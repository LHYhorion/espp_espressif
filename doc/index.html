<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ESPP Documentation - ESP32 -  &mdash; ESPP latest documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>

    
        

    <script type="text/javascript">
        DOCUMENTATION_OPTIONS.PAGENAME = 'index';
        DOCUMENTATION_OPTIONS.PROJECT_SLUG = 'esp-cpp';
        DOCUMENTATION_OPTIONS.LATEST_BRANCH_NAME = 'master';
        DOCUMENTATION_OPTIONS.VERSIONS_URL = 'https://dl.espressif.com/dl/esp-idf/idf_versions.js';
        DOCUMENTATION_OPTIONS.LANGUAGES = ["en"];
        DOCUMENTATION_OPTIONS.IDF_TARGET = 'esp32';
        DOCUMENTATION_OPTIONS.HAS_IDF_TARGETS = ["esp32", "esp32s2", "esp32c3"]
        DOCUMENTATION_OPTIONS.RELEASE = 'latest';
    </script>

    <script type="text/javascript" src="https://dl.espressif.com/dl/esp-idf/idf_versions.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> ESPP
            <img src="_static/espressif-logo.svg" class="logo" alt="Logo"/>
          </a>

          
            <div class="selectors">
              <select id="target-select" style="width: 150px;" hidden>
                <option value="" disabled selected>Choose target...</option>
              </select>
            </div>
          

          <div class="selectors">
            <select id="version-select" style="width: 150px;" hidden>
              <option value="" disabled selected>Choose version...</option>
            </select>
          </div>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">ESPP Documentation</a><ul>
<li><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li><a class="reference internal" href="#header-file">Header File</a></li>
<li><a class="reference internal" href="#classes">Classes</a></li>
<li><a class="reference internal" href="#id1">Header File</a></li>
<li><a class="reference internal" href="#id2">Classes</a></li>
<li><a class="reference internal" href="#id3">Header File</a></li>
<li><a class="reference internal" href="#id4">Classes</a></li>
<li><a class="reference internal" href="#id5">Header File</a></li>
<li><a class="reference internal" href="#id6">Classes</a></li>
<li><a class="reference internal" href="#id7">Header File</a></li>
<li><a class="reference internal" href="#id8">Classes</a></li>
<li><a class="reference internal" href="#id9">Header File</a></li>
<li><a class="reference internal" href="#id10">Classes</a></li>
<li><a class="reference internal" href="#id11">Header File</a></li>
<li><a class="reference internal" href="#id12">Classes</a></li>
<li><a class="reference internal" href="#id13">Header File</a></li>
<li><a class="reference internal" href="#id14">Classes</a></li>
<li><a class="reference internal" href="#id15">Header File</a></li>
<li><a class="reference internal" href="#id16">Classes</a></li>
<li><a class="reference internal" href="#id17">Header File</a></li>
<li><a class="reference internal" href="#id18">Classes</a></li>
<li><a class="reference internal" href="#id19">Header File</a></li>
<li><a class="reference internal" href="#id20">Classes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ESPP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>ESPP Documentation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/esp-cpp/espp/blob/db51601/docs/en/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="espp-documentation">
<h1>ESPP Documentation<a class="headerlink" href="#espp-documentation" title="Permalink to this headline"></a></h1>
<p>This is the documentation for the ESP-IDF C++ library esp-cpp/espp.</p>
<section id="api-reference">
<h2>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline"></a></h2>
<section id="header-file">
<h3>Header File<a class="headerlink" href="#header-file" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/display/include/display.hpp">components/display/include/display.hpp</a></p></li>
</ul>
</section>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7DisplayE">
<span id="_CPPv3N4espp7DisplayE"></span><span id="_CPPv2N4espp7DisplayE"></span><span id="espp::Display"></span><span class="target" id="classespp_1_1_display"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">Display</span></span></span><a class="headerlink" href="#_CPPv4N4espp7DisplayE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Wrapper class around LVGL display buffer and display driver. </p>
<p>Allocates and owns the memory associated with the pixel display buffers. Starts and maintains a task which runs the high priority lv_tick_inc() function every 10 ms.</p>
<p>For more information, see <a class="reference external" href="https://docs.lvgl.io/8.3/porting/display.html#display-interface">https://docs.lvgl.io/8.3/porting/display.html#display-interface</a> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6SignalE">
<span id="_CPPv3N4espp7Display6SignalE"></span><span id="_CPPv2N4espp7Display6SignalE"></span><span class="target" id="classespp_1_1_display_1a3e0418d1f9a85c3d8595cff76dc4df57"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Signal</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><a class="headerlink" href="#_CPPv4N4espp7Display6SignalE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Signals used by LVGL to let the post_transfer_callback know whether or not to call lv_disp_flush_ready. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Signal4NONEE">
<span id="_CPPv3N4espp7Display6Signal4NONEE"></span><span id="_CPPv2N4espp7Display6Signal4NONEE"></span><span class="target" id="classespp_1_1_display_1a3e0418d1f9a85c3d8595cff76dc4df57ab50339a10e1de285ac99d4c3990b8693"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NONE</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Signal4NONEE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Signal5FLUSHE">
<span id="_CPPv3N4espp7Display6Signal5FLUSHE"></span><span id="_CPPv2N4espp7Display6Signal5FLUSHE"></span><span class="target" id="classespp_1_1_display_1a3e0418d1f9a85c3d8595cff76dc4df57a26eed7f078fc015c5252f817059a6f9f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">FLUSH</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Signal5FLUSHE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8RotationE">
<span id="_CPPv3N4espp7Display8RotationE"></span><span id="_CPPv2N4espp7Display8RotationE"></span><span class="target" id="classespp_1_1_display_1aa48bb7615c3ab6f241163047490f7a1b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Rotation</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><a class="headerlink" href="#_CPPv4N4espp7Display8RotationE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Possible orientations of the display. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8Rotation9LANDSCAPEE">
<span id="_CPPv3N4espp7Display8Rotation9LANDSCAPEE"></span><span id="_CPPv2N4espp7Display8Rotation9LANDSCAPEE"></span><span class="target" id="classespp_1_1_display_1aa48bb7615c3ab6f241163047490f7a1ba20287e25ffb71f92af9803e4c3a53928"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LANDSCAPE</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display8Rotation9LANDSCAPEE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8Rotation8PORTRAITE">
<span id="_CPPv3N4espp7Display8Rotation8PORTRAITE"></span><span id="_CPPv2N4espp7Display8Rotation8PORTRAITE"></span><span class="target" id="classespp_1_1_display_1aa48bb7615c3ab6f241163047490f7a1ba7dbb530820039c270faf100d3f6ff027"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PORTRAIT</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display8Rotation8PORTRAITE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8Rotation18LANDSCAPE_INVERTEDE">
<span id="_CPPv3N4espp7Display8Rotation18LANDSCAPE_INVERTEDE"></span><span id="_CPPv2N4espp7Display8Rotation18LANDSCAPE_INVERTEDE"></span><span class="target" id="classespp_1_1_display_1aa48bb7615c3ab6f241163047490f7a1ba28a14cf1372881d233dd45dd513ebfca"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LANDSCAPE_INVERTED</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display8Rotation18LANDSCAPE_INVERTEDE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8Rotation17PORTRAIT_INVERTEDE">
<span id="_CPPv3N4espp7Display8Rotation17PORTRAIT_INVERTEDE"></span><span id="_CPPv2N4espp7Display8Rotation17PORTRAIT_INVERTEDE"></span><span class="target" id="classespp_1_1_display_1aa48bb7615c3ab6f241163047490f7a1bacef15d07edb45f705c69b20101cb6f69"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PORTRAIT_INVERTED</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display8Rotation17PORTRAIT_INVERTEDE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8flush_fnE">
<span id="_CPPv3N4espp7Display8flush_fnE"></span><span id="_CPPv2N4espp7Display8flush_fnE"></span><span id="espp::Display::flush_fn"></span><span class="target" id="classespp_1_1_display_1a57ed5348cd97dd96e86ed79d71dfc1dc"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">flush_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">lv_disp_drv_t</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">lv_area_t</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">lv_color_t</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N4espp7Display8flush_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback for lvgl to flush segments of pixel data from the pixel buffers to the display. </p>
<dl class="field-list simple">
<dt class="field-odd">Param lv_disp_drv_t*</dt>
<dd class="field-odd"><p>Pointer to display driver. </p>
</dd>
<dt class="field-even">Param const</dt>
<dd class="field-even"><p>lv_area_t* Pointer to structure describing the area of pixels to flush. </p>
</dd>
<dt class="field-odd">Param lv_color_t*</dt>
<dd class="field-odd"><p>Pointer to pixel buffer containing color data. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display8write_fnE">
<span id="_CPPv3N4espp7Display8write_fnE"></span><span id="_CPPv2N4espp7Display8write_fnE"></span><span id="espp::Display::write_fn"></span><span class="target" id="classespp_1_1_display_1a2e289ffd4be0d3a17bae3d3bb07e9bc9"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_fn</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display8write_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Low-level callback to write bytes to the display controller. </p>
<dl class="field-list simple">
<dt class="field-odd">Param uint8_t*</dt>
<dd class="field-odd"><p>Pointer to array of bytes to write. </p>
</dd>
<dt class="field-even">Param size_t</dt>
<dd class="field-even"><p>Number of bytes to write. </p>
</dd>
<dt class="field-odd">Param uint16_t</dt>
<dd class="field-odd"><p>user data associated with this transfer, used for flags. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display7DisplayERK6Config">
<span id="_CPPv3N4espp7Display7DisplayERK6Config"></span><span id="_CPPv2N4espp7Display7DisplayERK6Config"></span><span id="espp::Display::Display__ConfigCR"></span><span class="target" id="classespp_1_1_display_1adde52d666168aed06e3462fe740b80fb"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Display</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7Display6ConfigE" title="espp::Display::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Display7DisplayERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Setup the dsiplay buffers and low-level LVGL, then start the update task. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – <a class="reference internal" href="#classespp_1_1_display"><span class="std std-ref">Display</span></a> configuration including buffer size and flush callback. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7DisplayD0Ev">
<span id="_CPPv3N4espp7DisplayD0Ev"></span><span id="_CPPv2N4espp7DisplayD0Ev"></span><span id="espp::Display::~Display"></span><span class="target" id="classespp_1_1_display_1a2dfc68569ed9855d2abd81a8747f6b97"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~Display</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7DisplayD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stops the upate task and frees the display buffer memory. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Display5widthEv">
<span id="_CPPv3NK4espp7Display5widthEv"></span><span id="_CPPv2NK4espp7Display5widthEv"></span><span id="espp::Display::widthC"></span><span class="target" id="classespp_1_1_display_1a159943c3137493f03a7c57ab1d0f8608"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">width</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Display5widthEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Return the configured width of the display in pixels. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>size_t width of the display. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp7Display6heightEv">
<span id="_CPPv3NK4espp7Display6heightEv"></span><span id="_CPPv2NK4espp7Display6heightEv"></span><span id="espp::Display::heightC"></span><span class="target" id="classespp_1_1_display_1af801eeef8bbdab4b18a90064958052ce"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">height</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp7Display6heightEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Return the configured height of the display in pixels. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>size_t height of the display. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display5pauseEv">
<span id="_CPPv3N4espp7Display5pauseEv"></span><span id="_CPPv2N4espp7Display5pauseEv"></span><span id="espp::Display::pause"></span><span class="target" id="classespp_1_1_display_1a1be19313d64c8bfcc3003cd3790b9862"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pause</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Display5pauseEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Pause the display update task, to prevent LVGL from writing to the display. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6resumeEv">
<span id="_CPPv3N4espp7Display6resumeEv"></span><span id="_CPPv2N4espp7Display6resumeEv"></span><span id="espp::Display::resume"></span><span class="target" id="classespp_1_1_display_1a0959550c2c6d0a61a791ded9d4b34fcc"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resume</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Display6resumeEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Resume the display update task, to allow LVGL to write to the display. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display4vramEv">
<span id="_CPPv3N4espp7Display4vramEv"></span><span id="_CPPv2N4espp7Display4vramEv"></span><span id="espp::Display::vram"></span><span class="target" id="classespp_1_1_display_1a1d2d59937e331d66460fb86cf9ecd2a4"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">vram</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Display4vramEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get pointer to main display buffer for custom writing. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>uint16_t* Pointer to the main display buffer. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display12vram_size_pxEv">
<span id="_CPPv3N4espp7Display12vram_size_pxEv"></span><span id="_CPPv2N4espp7Display12vram_size_pxEv"></span><span id="espp::Display::vram_size_px"></span><span class="target" id="classespp_1_1_display_1a9af6bf8cd33c97eec8bb86d81b0e7a94"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vram_size_px</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Display12vram_size_pxEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Return the number of pixels that <a class="reference internal" href="#classespp_1_1_display_1a1d2d59937e331d66460fb86cf9ecd2a4"><span class="std std-ref">vram()</span></a> can hold. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>size_t Number of pixels that fit in the display buffer. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display15vram_size_bytesEv">
<span id="_CPPv3N4espp7Display15vram_size_bytesEv"></span><span id="_CPPv2N4espp7Display15vram_size_bytesEv"></span><span id="espp::Display::vram_size_bytes"></span><span class="target" id="classespp_1_1_display_1ac4c38e65f5c558f6e3bac64561f4708e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">vram_size_bytes</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Display15vram_size_bytesEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Return the number of bytes that <a class="reference internal" href="#classespp_1_1_display_1a1d2d59937e331d66460fb86cf9ecd2a4"><span class="std std-ref">vram()</span></a> can hold. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>size_t Number of bytes that fit in the display buffer. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6ConfigE">
<span id="_CPPv3N4espp7Display6ConfigE"></span><span id="_CPPv2N4espp7Display6ConfigE"></span><span id="espp::Display::Config"></span><span class="target" id="structespp_1_1_display_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config5widthE">
<span id="_CPPv3N4espp7Display6Config5widthE"></span><span id="_CPPv2N4espp7Display6Config5widthE"></span><span id="espp::Display::Config::width__s"></span><span class="target" id="structespp_1_1_display_1_1_config_1aa02c148c2929d1fc4596ee40ba36d5b9"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">width</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config5widthE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Width of th display, in pixels. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config6heightE">
<span id="_CPPv3N4espp7Display6Config6heightE"></span><span id="_CPPv2N4espp7Display6Config6heightE"></span><span id="espp::Display::Config::height__s"></span><span class="target" id="structespp_1_1_display_1_1_config_1a6a7cb5c30543c30e9b9ef53aa0bf0760"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">height</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config6heightE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Height of the display, in pixels. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config17pixel_buffer_sizeE">
<span id="_CPPv3N4espp7Display6Config17pixel_buffer_sizeE"></span><span id="_CPPv2N4espp7Display6Config17pixel_buffer_sizeE"></span><span id="espp::Display::Config::pixel_buffer_size__s"></span><span class="target" id="structespp_1_1_display_1_1_config_1a1b2043e76ebd10ad209a427dac7e3861"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pixel_buffer_size</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config17pixel_buffer_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Size of the display buffer in pixels. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config14flush_callbackE">
<span id="_CPPv3N4espp7Display6Config14flush_callbackE"></span><span id="_CPPv2N4espp7Display6Config14flush_callbackE"></span><span id="espp::Display::Config::flush_callback__flush_fn"></span><span class="target" id="structespp_1_1_display_1_1_config_1ace86e0fd6598e792aef5d31d29c4a102"></span><a class="reference internal" href="#_CPPv4N4espp7Display8flush_fnE" title="espp::Display::flush_fn"><span class="n"><span class="pre">flush_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flush_callback</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config14flush_callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Function provided to LVGL for it to flush data to the display. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config8rotationE">
<span id="_CPPv3N4espp7Display6Config8rotationE"></span><span id="_CPPv2N4espp7Display6Config8rotationE"></span><span id="espp::Display::Config::rotation__Rotation"></span><span class="target" id="structespp_1_1_display_1_1_config_1abf91e4f2d5e8bebec0b1cbe3c1116771"></span><a class="reference internal" href="#_CPPv4N4espp7Display8RotationE" title="espp::Display::Rotation"><span class="n"><span class="pre">Rotation</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rotation</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="#_CPPv4N4espp7Display8RotationE" title="espp::Display::Rotation"><span class="n"><span class="pre">Rotation</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display8Rotation9LANDSCAPEE" title="espp::Display::Rotation::LANDSCAPE"><span class="n"><span class="pre">LANDSCAPE</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config8rotationE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Default / Initial rotation of the display. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config25software_rotation_enabledE">
<span id="_CPPv3N4espp7Display6Config25software_rotation_enabledE"></span><span id="_CPPv2N4espp7Display6Config25software_rotation_enabledE"></span><span id="espp::Display::Config::software_rotation_enabled__b"></span><span class="target" id="structespp_1_1_display_1_1_config_1a003ba18f2264d57eacc74902d8d02683"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">software_rotation_enabled</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">true</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config25software_rotation_enabledE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Enable LVGL software display rotation, incurs additional overhead. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Display6Config9log_levelE">
<span id="_CPPv3N4espp7Display6Config9log_levelE"></span><span id="_CPPv2N4espp7Display6Config9log_levelE"></span><span id="espp::Display::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1_display_1_1_config_1a0e8375fe182c54de79c6fcba5e1c6d1d"></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7Display6Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Verbosity for the <a class="reference internal" href="#classespp_1_1_display"><span class="std std-ref">Display</span></a> logger_. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id1">
<h3>Header File<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/display_drivers/include/ili9341.hpp">components/display_drivers/include/ili9341.hpp</a></p></li>
</ul>
</section>
<section id="id2">
<h3>Classes<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili9341E">
<span id="_CPPv3N4espp7Ili9341E"></span><span id="_CPPv2N4espp7Ili9341E"></span><span id="espp::Ili9341"></span><span class="target" id="classespp_1_1_ili9341"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">Ili9341</span></span></span><a class="headerlink" href="#_CPPv4N4espp7Ili9341E" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="#classespp_1_1_display"><span class="std std-ref">Display</span></a> driver for the ILI9341 display controller. </p>
<p>This code is modified from <a class="reference external" href="https://github.com/lvgl/lvgl_esp32_drivers/blob/master/lvgl_tft/ili9341.c">https://github.com/lvgl/lvgl_esp32_drivers/blob/master/lvgl_tft/ili9341.c</a> and <a class="reference external" href="https://github.com/espressif/esp-dev-kits/blob/master/esp32-s2-hmi-devkit-1/components/screen/controller_driver/ili9341/ili9341.c">https://github.com/espressif/esp-dev-kits/blob/master/esp32-s2-hmi-devkit-1/components/screen/controller_driver/ili9341/ili9341.c</a></p>
<p>See also: <a class="reference external" href="https://github.com/espressif/esp-bsp/blob/master/components/lcd/esp_lcd_ili9341/esp_lcd_ili9341.c">https://github.com/espressif/esp-bsp/blob/master/components/lcd/esp_lcd_ili9341/esp_lcd_ili9341.c</a></p>
<section id="classespp_1_1_ili9341_1ili9341_ex1">
<h4>ili9341 Example<a class="headerlink" href="#classespp_1_1_ili9341_1ili9341_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_ili9341_1ili9341_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pixel_buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16384</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create the spi host for the ILI9331 on ESP_WROVER_DEV_KIT</span>
<span class="w">    </span><span class="n">idf</span><span class="o">::</span><span class="n">SPIMaster</span><span class="w"> </span><span class="n">master</span><span class="p">(</span><span class="n">idf</span><span class="o">::</span><span class="n">SPINum</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">MOSI</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="c1">// NOTE: this is actually the reset pin, but we don&#39;t</span>
<span class="w">                          </span><span class="c1">// need MISO since it&#39;s a screen, so it&#39;s OK</span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">MISO</span><span class="p">(</span><span class="mi">18</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">SCLK</span><span class="p">(</span><span class="mi">19</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">SPI_DMAConfig</span><span class="o">::</span><span class="n">AUTO</span><span class="p">(),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">SPITransferSize</span><span class="p">(</span><span class="n">pixel_buffer_size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">lv_color_t</span><span class="p">)));</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create the spi device</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">lcd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">master</span><span class="p">.</span><span class="n">create_dev</span><span class="p">(</span><span class="n">idf</span><span class="o">::</span><span class="n">CS</span><span class="p">(</span><span class="mi">22</span><span class="p">),</span><span class="w"> </span><span class="n">idf</span><span class="o">::</span><span class="n">Frequency</span><span class="o">::</span><span class="n">MHz</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create the lcd_write function</span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">write_fn</span><span class="w"> </span><span class="n">lcd_write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">lcd</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">user_data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// oddly the esp-idf-cxx spi driver asserts if we try to send 0 data...</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="c1">// NOTE: we could simply provide user_data as context to the function</span>
<span class="w">      </span><span class="c1">// NOTE: if we don&#39;t call get() to block for the transaction, then the</span>
<span class="w">      </span><span class="c1">// transaction will go out scope and fail.</span>
<span class="w">      </span><span class="n">lcd</span><span class="o">-&gt;</span><span class="n">transfer</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">+</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="p">[](</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ud</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                      </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">ud</span><span class="p">;</span><span class="w"></span>
<span class="w">                      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">flags</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">Signal</span><span class="o">::</span><span class="n">FLUSH</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="n">lv_disp_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">disp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_lv_refr_get_disp_refreshing</span><span class="p">();</span><span class="w"></span>
<span class="w">                        </span><span class="n">lv_disp_flush_ready</span><span class="p">(</span><span class="n">disp</span><span class="o">-&gt;</span><span class="n">driver</span><span class="p">);</span><span class="w"></span>
<span class="w">                      </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">},</span><span class="w"></span>
<span class="w">                    </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="n">user_data</span><span class="p">).</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="c1">// initialize the controller</span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">Ili9341</span><span class="o">::</span><span class="n">initialize</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">lcd_write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lcd_write</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">reset_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="mi">18</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">data_command_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="mi">21</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">backlight_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="mi">5</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// initialize the display / lvgl</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">&gt;</span><span class="p">(</span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">Config</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">240</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">pixel_buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pixel_buffer_size</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">flush_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Ili9341</span><span class="o">::</span><span class="n">flush</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">rotation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">Rotation</span><span class="o">::</span><span class="n">LANDSCAPE</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">software_rotation_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// initialize the gui</span>
<span class="w">    </span><span class="n">Gui</span><span class="w"> </span><span class="nf">gui</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">display</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">iterations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Iterations: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">gui</span><span class="p">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">label</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">gui</span><span class="p">.</span><span class="n">set_meter</span><span class="p">(</span><span class="n">iterations</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">100</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili934110initializeERKN15display_drivers6ConfigE">
<span id="_CPPv3N4espp7Ili934110initializeERKN15display_drivers6ConfigE"></span><span id="_CPPv2N4espp7Ili934110initializeERKN15display_drivers6ConfigE"></span><span id="espp::Ili9341::initialize__display_drivers::ConfigCR"></span><span class="target" id="classespp_1_1_ili9341_1a6dd9c33d0a3641bc8318b304a9b11473"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initialize</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">display_drivers</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Config</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Ili934110initializeERKN15display_drivers6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Store the config data and send the initialization commands to the display controller. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – display_drivers::Config structure </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili93415flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t">
<span id="_CPPv3N4espp7Ili93415flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t"></span><span id="_CPPv2N4espp7Ili93415flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t"></span><span id="espp::Ili9341::flush__lv_disp_drv_tP.lv_area_tCP.lv_color_tP"></span><span class="target" id="classespp_1_1_ili9341_1ada827431a45227bb7ec9e48bbb69d83c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flush</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">lv_disp_drv_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">drv</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">lv_area_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">area</span></span>, <span class="n"><span class="pre">lv_color_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">color_map</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Ili93415flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Flush the pixel data for the provided area to the display. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*drv</strong> – Pointer to the LVGL display driver. </p></li>
<li><p><strong>*area</strong> – Pointer to the structure describing the pixel area. </p></li>
<li><p><strong>*color_map</strong> – Pointer to array of colors to flush to the display. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili93414fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t">
<span id="_CPPv3N4espp7Ili93414fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t"></span><span id="_CPPv2N4espp7Ili93414fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t"></span><span id="espp::Ili9341::fill__lv_disp_drv_tP.lv_area_tCP.lv_color_tP.uint32_t"></span><span class="target" id="classespp_1_1_ili9341_1a7f59f3ec70632e899240e8e1a3ea5145"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fill</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">lv_disp_drv_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">drv</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">lv_area_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">area</span></span>, <span class="n"><span class="pre">lv_color_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">color_map</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">flags</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint32_t</span></span><span class="p"><span class="pre">)</span></span><a class="reference internal" href="#_CPPv4N4espp7DisplayE" title="espp::Display"><span class="n"><span class="pre">Display</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6SignalE" title="espp::Display::Signal"><span class="n"><span class="pre">Signal</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6Signal4NONEE" title="espp::Display::Signal::NONE"><span class="n"><span class="pre">NONE</span></span></a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Ili93414fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Flush the pixel data for the provided area to the display. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*drv</strong> – Pointer to the LVGL display driver. </p></li>
<li><p><strong>*area</strong> – Pointer to the structure describing the pixel area. </p></li>
<li><p><strong>*color_map</strong> – Pointer to array of colors to flush to the display. </p></li>
<li><p><strong>flags</strong> – uint32_t user data / flags to pass to the lcd_write transfer function. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili93415clearE6size_t6size_t6size_t6size_t8uint16_t">
<span id="_CPPv3N4espp7Ili93415clearE6size_t6size_t6size_t6size_t8uint16_t"></span><span id="_CPPv2N4espp7Ili93415clearE6size_t6size_t6size_t6size_t8uint16_t"></span><span id="espp::Ili9341::clear__s.s.s.s.uint16_t"></span><span class="target" id="classespp_1_1_ili9341_1a827aca5ded51573a3263f2cb19e9a820"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clear</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">x</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">y</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">width</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">height</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">color</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x0000</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Ili93415clearE6size_t6size_t6size_t6size_t8uint16_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clear the display area, filling it with the provided color. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – X coordinate of the upper left corner of the display area. </p></li>
<li><p><strong>y</strong> – Y coordinate of the upper left corner of the display area. </p></li>
<li><p><strong>width</strong> – Width of the display area to clear. </p></li>
<li><p><strong>height</strong> – Height of the display area to clear. </p></li>
<li><p><strong>color</strong> – 16 bit color (default 0x0000) to fill with. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili934112send_commandE7uint8_t">
<span id="_CPPv3N4espp7Ili934112send_commandE7uint8_t"></span><span id="_CPPv2N4espp7Ili934112send_commandE7uint8_t"></span><span id="espp::Ili9341::send_command__uint8_t"></span><span class="target" id="classespp_1_1_ili9341_1a22ca1cabcea2b8b217b32f9b4fbba8b9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send_command</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">command</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Ili934112send_commandE7uint8_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets the DC pin to command and sends the command code. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>command</strong> – Command code to send </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7Ili93419send_dataEP7uint8_t6size_t8uint32_t">
<span id="_CPPv3N4espp7Ili93419send_dataEP7uint8_t6size_t8uint32_t"></span><span id="_CPPv2N4espp7Ili93419send_dataEP7uint8_t6size_t8uint32_t"></span><span id="espp::Ili9341::send_data__uint8_tP.s.uint32_t"></span><span class="target" id="classespp_1_1_ili9341_1a5885477a0f357d4bd18bb091ce420d87"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send_data</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">flags</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint32_t</span></span><span class="p"><span class="pre">)</span></span><a class="reference internal" href="#_CPPv4N4espp7DisplayE" title="espp::Display"><span class="n"><span class="pre">Display</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6SignalE" title="espp::Display::Signal"><span class="n"><span class="pre">Signal</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6Signal4NONEE" title="espp::Display::Signal::NONE"><span class="n"><span class="pre">NONE</span></span></a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7Ili93419send_dataEP7uint8_t6size_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets the DC pin to data and sends the data, with optional flags. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Pointer to array of bytes to be sent </p></li>
<li><p><strong>length</strong> – Number of bytes of data to send. </p></li>
<li><p><strong>flags</strong> – Optional (default = <a class="reference internal" href="#classespp_1_1_display_1a3e0418d1f9a85c3d8595cff76dc4df57ab50339a10e1de285ac99d4c3990b8693"><span class="std std-ref">Display::Signal::NONE</span></a>) flags associated with transfer. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id3">
<h3>Header File<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/display_drivers/include/st7789.hpp">components/display_drivers/include/st7789.hpp</a></p></li>
</ul>
</section>
<section id="id4">
<h3>Classes<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St7789E">
<span id="_CPPv3N4espp6St7789E"></span><span id="_CPPv2N4espp6St7789E"></span><span id="espp::St7789"></span><span class="target" id="classespp_1_1_st7789"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">St7789</span></span></span><a class="headerlink" href="#_CPPv4N4espp6St7789E" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="#classespp_1_1_display"><span class="std std-ref">Display</span></a> driver for the ST7789 display controller. </p>
<p>This code is modified from <a class="reference external" href="https://github.com/lvgl/lvgl_esp32_drivers/blob/master/lvgl_tft/st7789.c">https://github.com/lvgl/lvgl_esp32_drivers/blob/master/lvgl_tft/st7789.c</a> and <a class="reference external" href="https://github.com/Bodmer/TFT_eSPI/blob/master/TFT_Drivers/ST7789_Defines.h">https://github.com/Bodmer/TFT_eSPI/blob/master/TFT_Drivers/ST7789_Defines.h</a></p>
<p>See also: <a class="reference external" href="https://github.com/espressif/esp-who/blob/master/components/screen/controller_driver/st7789/st7789.c">https://github.com/espressif/esp-who/blob/master/components/screen/controller_driver/st7789/st7789.c</a> or <a class="reference external" href="https://github.com/espressif/tflite-micro-esp-examples/blob/master/components/screen/controller_driver/st7789/st7789.c">https://github.com/espressif/tflite-micro-esp-examples/blob/master/components/screen/controller_driver/st7789/st7789.c</a> or <a class="reference external" href="https://esphome.io/api/st7789v_8h_source.html">https://esphome.io/api/st7789v_8h_source.html</a> or <a class="reference external" href="https://github.com/mireq/esp32-st7789-demo/blob/master/components/st7789/include/st7789.h">https://github.com/mireq/esp32-st7789-demo/blob/master/components/st7789/include/st7789.h</a> or <a class="reference external" href="https://github.com/mireq/esp32-st7789-demo/blob/master/components/st7789/st7789.c">https://github.com/mireq/esp32-st7789-demo/blob/master/components/st7789/st7789.c</a></p>
<section id="classespp_1_1_st7789_1st7789_ex1">
<h4>st7789 Example<a class="headerlink" href="#classespp_1_1_st7789_1st7789_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_st7789_1st7789_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">pixel_buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12800</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create the spi host for the ST7789 on TTGO T-Display</span>
<span class="w">    </span><span class="n">idf</span><span class="o">::</span><span class="n">SPIMaster</span><span class="w"> </span><span class="n">master</span><span class="p">(</span><span class="n">idf</span><span class="o">::</span><span class="n">SPINum</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">MOSI</span><span class="p">(</span><span class="mi">19</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="c1">// NOTE: this is actually the reset pin, but we don&#39;t</span>
<span class="w">                          </span><span class="c1">// need MISO since it&#39;s a screen, so it&#39;s OK</span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">MISO</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">SCLK</span><span class="p">(</span><span class="mi">18</span><span class="p">),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">SPI_DMAConfig</span><span class="o">::</span><span class="n">AUTO</span><span class="p">(),</span><span class="w"></span>
<span class="w">                          </span><span class="n">idf</span><span class="o">::</span><span class="n">SPITransferSize</span><span class="p">(</span><span class="n">pixel_buffer_size</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">lv_color_t</span><span class="p">)));</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create the spi device</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">lcd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">master</span><span class="p">.</span><span class="n">create_dev</span><span class="p">(</span><span class="n">idf</span><span class="o">::</span><span class="n">CS</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="n">idf</span><span class="o">::</span><span class="n">Frequency</span><span class="o">::</span><span class="n">MHz</span><span class="p">(</span><span class="mi">60</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create the lcd_write function</span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">write_fn</span><span class="w"> </span><span class="n">lcd_write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">lcd</span><span class="p">](</span><span class="k">auto</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="n">user_data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// oddly the esp-idf-cxx spi driver asserts if we try to send 0 data...</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="c1">// NOTE: we could simply provide user_data as context to the function</span>
<span class="w">      </span><span class="c1">// NOTE: if we don&#39;t call get() to block for the transaction, then the</span>
<span class="w">      </span><span class="c1">// transaction will go out scope and fail.</span>
<span class="w">      </span><span class="n">lcd</span><span class="o">-&gt;</span><span class="n">transfer</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">+</span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="p">[](</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">ud</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                      </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">ud</span><span class="p">;</span><span class="w"></span>
<span class="w">                      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">flags</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">Signal</span><span class="o">::</span><span class="n">FLUSH</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                        </span><span class="n">lv_disp_t</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">disp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_lv_refr_get_disp_refreshing</span><span class="p">();</span><span class="w"></span>
<span class="w">                        </span><span class="n">lv_disp_flush_ready</span><span class="p">(</span><span class="n">disp</span><span class="o">-&gt;</span><span class="n">driver</span><span class="p">);</span><span class="w"></span>
<span class="w">                      </span><span class="p">}</span><span class="w"></span>
<span class="w">                    </span><span class="p">},</span><span class="w"></span>
<span class="w">                    </span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="n">user_data</span><span class="p">).</span><span class="n">get</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="c1">// initialize the controller</span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">St7789</span><span class="o">::</span><span class="n">initialize</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">lcd_write</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lcd_write</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">reset_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="mi">23</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">data_command_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="mi">16</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">backlight_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">gpio_num_t</span><span class="p">)</span><span class="mi">4</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">invert_colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">offset_x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">offset_y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">53</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// initialize the display / lvgl</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">&gt;</span><span class="p">(</span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">Config</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">240</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">135</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">pixel_buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pixel_buffer_size</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">flush_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">St7789</span><span class="o">::</span><span class="n">flush</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">rotation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Display</span><span class="o">::</span><span class="n">Rotation</span><span class="o">::</span><span class="n">PORTRAIT</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">software_rotation_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// initialize the gui</span>
<span class="w">    </span><span class="n">Gui</span><span class="w"> </span><span class="nf">gui</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">display</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">display</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">iterations</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Iterations: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">gui</span><span class="p">.</span><span class="n">set_label</span><span class="p">(</span><span class="n">label</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">gui</span><span class="p">.</span><span class="n">set_meter</span><span class="p">(</span><span class="n">iterations</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">100</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St778910initializeERKN15display_drivers6ConfigE">
<span id="_CPPv3N4espp6St778910initializeERKN15display_drivers6ConfigE"></span><span id="_CPPv2N4espp6St778910initializeERKN15display_drivers6ConfigE"></span><span id="espp::St7789::initialize__display_drivers::ConfigCR"></span><span class="target" id="classespp_1_1_st7789_1a223e7f241715727eaa713f3a88e2d9a9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initialize</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">display_drivers</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Config</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6St778910initializeERKN15display_drivers6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Store the config data and send the initialization commands to the display controller. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – display_drivers::Config structure </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St77895flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t">
<span id="_CPPv3N4espp6St77895flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t"></span><span id="_CPPv2N4espp6St77895flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t"></span><span id="espp::St7789::flush__lv_disp_drv_tP.lv_area_tCP.lv_color_tP"></span><span class="target" id="classespp_1_1_st7789_1a2ac2b091aa50ade61193aadc4ff96304"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flush</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">lv_disp_drv_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">drv</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">lv_area_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">area</span></span>, <span class="n"><span class="pre">lv_color_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">color_map</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6St77895flushEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Flush the pixel data for the provided area to the display. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*drv</strong> – Pointer to the LVGL display driver. </p></li>
<li><p><strong>*area</strong> – Pointer to the structure describing the pixel area. </p></li>
<li><p><strong>*color_map</strong> – Pointer to array of colors to flush to the display. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St77894fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t">
<span id="_CPPv3N4espp6St77894fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t"></span><span id="_CPPv2N4espp6St77894fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t"></span><span id="espp::St7789::fill__lv_disp_drv_tP.lv_area_tCP.lv_color_tP.uint32_t"></span><span class="target" id="classespp_1_1_st7789_1ac5572c5b8dcff8b51e05e3ca75e53f25"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fill</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">lv_disp_drv_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">drv</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">lv_area_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">area</span></span>, <span class="n"><span class="pre">lv_color_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">color_map</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">flags</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint32_t</span></span><span class="p"><span class="pre">)</span></span><a class="reference internal" href="#_CPPv4N4espp7DisplayE" title="espp::Display"><span class="n"><span class="pre">Display</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6SignalE" title="espp::Display::Signal"><span class="n"><span class="pre">Signal</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6Signal4NONEE" title="espp::Display::Signal::NONE"><span class="n"><span class="pre">NONE</span></span></a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6St77894fillEP13lv_disp_drv_tPK9lv_area_tP10lv_color_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Flush the pixel data for the provided area to the display. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*drv</strong> – Pointer to the LVGL display driver. </p></li>
<li><p><strong>*area</strong> – Pointer to the structure describing the pixel area. </p></li>
<li><p><strong>*color_map</strong> – Pointer to array of colors to flush to the display. </p></li>
<li><p><strong>flags</strong> – uint32_t user data / flags to pass to the lcd_write transfer function. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St77895clearE6size_t6size_t6size_t6size_t8uint16_t">
<span id="_CPPv3N4espp6St77895clearE6size_t6size_t6size_t6size_t8uint16_t"></span><span id="_CPPv2N4espp6St77895clearE6size_t6size_t6size_t6size_t8uint16_t"></span><span id="espp::St7789::clear__s.s.s.s.uint16_t"></span><span class="target" id="classespp_1_1_st7789_1a89252587cc61fc63038b190eee14a001"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clear</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">x</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">y</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">width</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">height</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">color</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0x0000</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6St77895clearE6size_t6size_t6size_t6size_t8uint16_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Clear the display area, filling it with the provided color. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – X coordinate of the upper left corner of the display area. </p></li>
<li><p><strong>y</strong> – Y coordinate of the upper left corner of the display area. </p></li>
<li><p><strong>width</strong> – Width of the display area to clear. </p></li>
<li><p><strong>height</strong> – Height of the display area to clear. </p></li>
<li><p><strong>color</strong> – 16 bit color (default 0x0000) to fill with. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St778912send_commandE7uint8_t">
<span id="_CPPv3N4espp6St778912send_commandE7uint8_t"></span><span id="_CPPv2N4espp6St778912send_commandE7uint8_t"></span><span id="espp::St7789::send_command__uint8_t"></span><span class="target" id="classespp_1_1_st7789_1ad669e6b9ac4f0b20ec3be9b378f8758a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send_command</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">command</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6St778912send_commandE7uint8_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets the DC pin to command and sends the command code. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>command</strong> – Command code to send </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6St77899send_dataEP7uint8_t6size_t8uint32_t">
<span id="_CPPv3N4espp6St77899send_dataEP7uint8_t6size_t8uint32_t"></span><span id="_CPPv2N4espp6St77899send_dataEP7uint8_t6size_t8uint32_t"></span><span id="espp::St7789::send_data__uint8_tP.s.uint32_t"></span><span class="target" id="classespp_1_1_st7789_1afcb1522224d99eb668f89ecfc7118224"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send_data</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">flags</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint32_t</span></span><span class="p"><span class="pre">)</span></span><a class="reference internal" href="#_CPPv4N4espp7DisplayE" title="espp::Display"><span class="n"><span class="pre">Display</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6SignalE" title="espp::Display::Signal"><span class="n"><span class="pre">Signal</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp7Display6Signal4NONEE" title="espp::Display::Signal::NONE"><span class="n"><span class="pre">NONE</span></span></a><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6St77899send_dataEP7uint8_t6size_t8uint32_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Sets the DC pin to data and sends the data, with optional flags. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Pointer to array of bytes to be sent </p></li>
<li><p><strong>length</strong> – Number of bytes of data to send. </p></li>
<li><p><strong>flags</strong> – Optional (default = <a class="reference internal" href="#classespp_1_1_display_1a3e0418d1f9a85c3d8595cff76dc4df57ab50339a10e1de285ac99d4c3990b8693"><span class="std std-ref">Display::Signal::NONE</span></a>) flags associated with transfer. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
<section id="id5">
<h3>Header File<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/logger/include/logger.hpp">components/logger/include/logger.hpp</a></p></li>
</ul>
</section>
<section id="id6">
<h3>Classes<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6LoggerE">
<span id="_CPPv3N4espp6LoggerE"></span><span id="_CPPv2N4espp6LoggerE"></span><span id="espp::Logger"></span><span class="target" id="classespp_1_1_logger"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">Logger</span></span></span><a class="headerlink" href="#_CPPv4N4espp6LoggerE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="#classespp_1_1_logger"><span class="std std-ref">Logger</span></a> provides a wrapper around nicer / more robust formatting than standard ESP_LOG* macros with the ability to change the log level at run-time. <a class="reference internal" href="#classespp_1_1_logger"><span class="std std-ref">Logger</span></a> currently is a light wrapper around libfmt (future std::format). </p>
<section id="classespp_1_1_logger_1logger_ex1">
<h4>Basic Example<a class="headerlink" href="#classespp_1_1_logger_1logger_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_logger_1logger_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">num_seconds_to_run</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">10.0f</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create loggers</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">tag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Cool Logger&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">DEBUG</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">now</span><span class="o">-</span><span class="n">start</span><span class="p">).</span><span class="n">count</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num_seconds_to_run</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span><span class="w"></span>
<span class="w">      </span><span class="n">elapsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">now</span><span class="o">-</span><span class="n">start</span><span class="p">).</span><span class="n">count</span><span class="p">();</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">num_seconds_to_run</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">elapsed</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">logger</span><span class="p">.</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;debug: {:%Y-%m-%d %H:%M:%S} - {:%Y-%m-%d %H:%M:%S} = {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">elapsed</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;elapsed: {:.3f}s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">elapsed</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">logger</span><span class="p">.</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;remaining: {:.3f}s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">remaining</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">remaining</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;You overstayed your welcome by {:.03}s!&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">remaining</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">500</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<section id="classespp_1_1_logger_1logger_ex2">
<h4>Threaded Logging and Verbosity Example<a class="headerlink" href="#classespp_1_1_logger_1logger_ex2" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_logger_1logger_ex2"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// create loggers</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">logger1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">tag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Thread 1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">INFO</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">logger2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">tag</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Thread 2&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">DEBUG</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// lambda for logging to those two loggers from multiple threads</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">logger_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="w"> </span><span class="o">*</span><span class="n">logger</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">loop_iteration</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// log - note: debug shouldn&#39;t be shown!</span>
<span class="w">        </span><span class="n">logger</span><span class="o">-&gt;</span><span class="n">debug</span><span class="p">(</span><span class="s">&quot;some debug info: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">loop_iteration</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">logger</span><span class="o">-&gt;</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;some info: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">loop_iteration</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">logger</span><span class="o">-&gt;</span><span class="n">warn</span><span class="p">(</span><span class="s">&quot;some warning: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">loop_iteration</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">logger</span><span class="o">-&gt;</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;some error: {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">loop_iteration</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="c1">// update loop variables</span>
<span class="w">        </span><span class="n">loop_iteration</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="c1">// sleep</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">300</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="c1">// start two threads, binding the lambda to each logger</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">logger1_thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="n">logger_fn</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">logger1</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">logger2_thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="kr">thread</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="n">logger_fn</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">logger2</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">level</span><span class="p">{</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">DEBUG</span><span class="p">)};</span><span class="w"></span>
<span class="w">    </span><span class="c1">// every 1 second, change the loggers&#39; verbosity</span>
<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="c1">// update the loggers&#39; verbosity</span>
<span class="w">      </span><span class="n">level</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">level</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">ERROR</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="p">(</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">DEBUG</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="w"> </span><span class="n">verbosity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">&gt;</span><span class="p">(</span><span class="n">level</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">logger1</span><span class="p">.</span><span class="n">set_verbosity</span><span class="p">(</span><span class="n">verbosity</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">logger2</span><span class="p">.</span><span class="n">set_verbosity</span><span class="p">(</span><span class="n">verbosity</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="c1">// sleep</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">1</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp enum-class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger9VerbosityE">
<span id="_CPPv3N4espp6Logger9VerbosityE"></span><span id="_CPPv2N4espp6Logger9VerbosityE"></span><span class="target" id="classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Verbosity</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger9VerbosityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Verbosity levels for the logger, in order of increasing priority. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger9Verbosity5DEBUGE">
<span id="_CPPv3N4espp6Logger9Verbosity5DEBUGE"></span><span id="_CPPv2N4espp6Logger9Verbosity5DEBUGE"></span><span class="target" id="classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cbadc30ec20708ef7b0f641ef78b7880a15"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DEBUG</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger9Verbosity5DEBUGE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger9Verbosity4INFOE">
<span id="_CPPv3N4espp6Logger9Verbosity4INFOE"></span><span id="_CPPv2N4espp6Logger9Verbosity4INFOE"></span><span class="target" id="classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cba551b723eafd6a31d444fcb2f5920fbd3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">INFO</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger9Verbosity4INFOE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger9Verbosity4WARNE">
<span id="_CPPv3N4espp6Logger9Verbosity4WARNE"></span><span id="_CPPv2N4espp6Logger9Verbosity4WARNE"></span><span class="target" id="classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cba32bd8a1db2275458673903bdb84cb277"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">WARN</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger9Verbosity5ERRORE">
<span id="_CPPv3N4espp6Logger9Verbosity5ERRORE"></span><span id="_CPPv2N4espp6Logger9Verbosity5ERRORE"></span><span class="target" id="classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cbabb1ca97ec761fc37101737ba0aa2e7c5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ERROR</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger9Verbosity5ERRORE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger13set_verbosityEK9Verbosity">
<span id="_CPPv3N4espp6Logger13set_verbosityEK9Verbosity"></span><span id="_CPPv2N4espp6Logger13set_verbosityEK9Verbosity"></span><span id="espp::Logger::set_verbosity__VerbosityC"></span><span class="target" id="classespp_1_1_logger_1a61783ed034f092e27449c939cbd2b91d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_verbosity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Logger13set_verbosityEK9Verbosity" title="Permalink to this definition"></a><br /></dt>
<dd><p>Change the verbosity for the logger. </p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cb"><span class="std std-ref">Logger::Verbosity</span></a> </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>level</strong> – new verbosity level </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4IDpEN4espp6Logger6formatENSt6stringENSt11string_viewEDpRR4Args">
<span id="_CPPv3IDpEN4espp6Logger6formatENSt11string_viewEDpRR4Args"></span><span id="_CPPv2IDpEN4espp6Logger6formatENSt11string_viewEDpRR4Args"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="sig-name descname"><span class="n"><span class="pre">Args</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1_logger_1a5d87fb0f578be1be582b94fc974c0132"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">format</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rt_fmt_str</span></span>, <a class="reference internal" href="#_CPPv4IDpEN4espp6Logger6formatENSt6stringENSt11string_viewEDpRR4Args" title="espp::Logger::format::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4IDpEN4espp6Logger6formatENSt6stringENSt11string_viewEDpRR4Args" title="Permalink to this definition"></a><br /></dt>
<dd><p>Format args into string according to format string. From: <a class="reference external" href="https://en.cppreference.com/w/cpp/utility/format/format">https://en.cppreference.com/w/cpp/utility/format/format</a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rt_fmt_str</strong> – format string </p></li>
<li><p><strong>args</strong> – optional arguments passed to be formatted. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>formatted std::string </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4IDpEN4espp6Logger5debugEvNSt11string_viewEDpRR4Args">
<span id="_CPPv3IDpEN4espp6Logger5debugENSt11string_viewEDpRR4Args"></span><span id="_CPPv2IDpEN4espp6Logger5debugENSt11string_viewEDpRR4Args"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="sig-name descname"><span class="n"><span class="pre">Args</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1_logger_1ab174af1f439cfd18d49963e5b294b30b"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rt_fmt_str</span></span>, <a class="reference internal" href="#_CPPv4IDpEN4espp6Logger5debugEvNSt11string_viewEDpRR4Args" title="espp::Logger::debug::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4IDpEN4espp6Logger5debugEvNSt11string_viewEDpRR4Args" title="Permalink to this definition"></a><br /></dt>
<dd><p>Print log in GRAY if level is <a class="reference internal" href="#classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cbadc30ec20708ef7b0f641ef78b7880a15"><span class="std std-ref">Verbosity::DEBUG</span></a> or greater. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rt_fmt_str</strong> – format string </p></li>
<li><p><strong>args</strong> – optional arguments passed to be formatted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4IDpEN4espp6Logger4infoEvNSt11string_viewEDpRR4Args">
<span id="_CPPv3IDpEN4espp6Logger4infoENSt11string_viewEDpRR4Args"></span><span id="_CPPv2IDpEN4espp6Logger4infoENSt11string_viewEDpRR4Args"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="sig-name descname"><span class="n"><span class="pre">Args</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1_logger_1a0bcd4609c176bd6129200a88d091ccd4"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">info</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rt_fmt_str</span></span>, <a class="reference internal" href="#_CPPv4IDpEN4espp6Logger4infoEvNSt11string_viewEDpRR4Args" title="espp::Logger::info::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4IDpEN4espp6Logger4infoEvNSt11string_viewEDpRR4Args" title="Permalink to this definition"></a><br /></dt>
<dd><p>Print log in GREEN if level is <a class="reference internal" href="#classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cba551b723eafd6a31d444fcb2f5920fbd3"><span class="std std-ref">Verbosity::INFO</span></a> or greater. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rt_fmt_str</strong> – format string </p></li>
<li><p><strong>args</strong> – optional arguments passed to be formatted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4IDpEN4espp6Logger4warnEvNSt11string_viewEDpRR4Args">
<span id="_CPPv3IDpEN4espp6Logger4warnENSt11string_viewEDpRR4Args"></span><span id="_CPPv2IDpEN4espp6Logger4warnENSt11string_viewEDpRR4Args"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="sig-name descname"><span class="n"><span class="pre">Args</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1_logger_1a4a137bb07e55d8a39b51356817786c6d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">warn</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rt_fmt_str</span></span>, <a class="reference internal" href="#_CPPv4IDpEN4espp6Logger4warnEvNSt11string_viewEDpRR4Args" title="espp::Logger::warn::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4IDpEN4espp6Logger4warnEvNSt11string_viewEDpRR4Args" title="Permalink to this definition"></a><br /></dt>
<dd><p>Print log in YELLOW if level is <a class="reference internal" href="#classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cba32bd8a1db2275458673903bdb84cb277"><span class="std std-ref">Verbosity::WARN</span></a> or greater. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rt_fmt_str</strong> – format string </p></li>
<li><p><strong>args</strong> – optional arguments passed to be formatted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4IDpEN4espp6Logger5errorEvNSt11string_viewEDpRR4Args">
<span id="_CPPv3IDpEN4espp6Logger5errorENSt11string_viewEDpRR4Args"></span><span id="_CPPv2IDpEN4espp6Logger5errorENSt11string_viewEDpRR4Args"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="sig-name descname"><span class="n"><span class="pre">Args</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classespp_1_1_logger_1af70bc59dd31ebdd797923cd7dbd6c34b"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rt_fmt_str</span></span>, <a class="reference internal" href="#_CPPv4IDpEN4espp6Logger5errorEvNSt11string_viewEDpRR4Args" title="espp::Logger::error::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4IDpEN4espp6Logger5errorEvNSt11string_viewEDpRR4Args" title="Permalink to this definition"></a><br /></dt>
<dd><p>Print log in RED if level is <a class="reference internal" href="#classespp_1_1_logger_1ac6c63313236b0ae6ff44f3f94a6f99cbabb1ca97ec761fc37101737ba0aa2e7c5"><span class="std std-ref">Verbosity::ERROR</span></a> or greater. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rt_fmt_str</strong> – format string </p></li>
<li><p><strong>args</strong> – optional arguments passed to be formatted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger6ConfigE">
<span id="_CPPv3N4espp6Logger6ConfigE"></span><span id="_CPPv2N4espp6Logger6ConfigE"></span><span id="espp::Logger::Config"></span><span class="target" id="structespp_1_1_logger_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger6Config3tagE">
<span id="_CPPv3N4espp6Logger6Config3tagE"></span><span id="_CPPv2N4espp6Logger6Config3tagE"></span><span id="espp::Logger::Config::tag__std::string_view"></span><span class="target" id="structespp_1_1_logger_1_1_config_1a5ea367f04582d61ffef5c55dac18d962"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tag</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Logger6Config3tagE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The TAG that will be prepended to all logs. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Logger6Config5levelE">
<span id="_CPPv3N4espp6Logger6Config5levelE"></span><span id="_CPPv2N4espp6Logger6Config5levelE"></span><span id="espp::Logger::Config::level__Verbosity"></span><span class="target" id="structespp_1_1_logger_1_1_config_1a83f381d517125e97f2e91b8139b4a978"></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><a class="headerlink" href="#_CPPv4N4espp6Logger6Config5levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>The verbosity level for the logger. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id7">
<h3>Header File<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/monitor/include/task_monitor.hpp">components/monitor/include/task_monitor.hpp</a></p></li>
</ul>
</section>
<section id="id8">
<h3>Classes<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11TaskMonitorE">
<span id="_CPPv3N4espp11TaskMonitorE"></span><span id="_CPPv2N4espp11TaskMonitorE"></span><span id="espp::TaskMonitor"></span><span class="target" id="classespp_1_1_task_monitor"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">TaskMonitor</span></span></span><a class="headerlink" href="#_CPPv4N4espp11TaskMonitorE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Class which monitors the currently running tasks in the system and periodically logs their states. See also <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/system/freertos.html#_CPPv412vTaskGetInfo12TaskHandle_tP12TaskStatus_t10BaseType_t10eTaskState">FreeRTOS::vTaskGetInfo()</a>. NOTE: you must enable CONFIG_FREERTOS_USE_TRACE_FACILITY and CONFIG_FREERTOS_GENERATE_RUN_TIME_STATS for this class to do anything. This means that you can always instantiate this class in your app_main, and then based on those two config settings it will either do nothing (default) or print out the stats for you to analyze. Finally, the monitoring period can be configured as well. </p>
<section id="classespp_1_1_task_monitor_1task_monitor_ex1">
<h4>Basic Task Monitor Example<a class="headerlink" href="#classespp_1_1_task_monitor_1task_monitor_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_task_monitor_1task_monitor_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="c1">// create the monitor</span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">TaskMonitor</span><span class="w"> </span><span class="nf">tm</span><span class="p">({.</span><span class="n">period</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="n">ms</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create threads</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">start</span><span class="p">](</span><span class="kt">int</span><span class="w"> </span><span class="n">task_id</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">seconds_since_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">duration</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="p">(</span><span class="n">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start</span><span class="p">).</span><span class="n">count</span><span class="p">();</span><span class="w"></span>
<span class="w">      </span><span class="c1">// do some work</span>
<span class="w">      </span><span class="kt">float</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0f</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">M_PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">sin</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="n">task_id</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">seconds_since_start</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;[Task {}]: {:.03}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_id</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="c1">// sleep</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">100</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tasks</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">num_tasks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">tasks</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">num_tasks</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_tasks</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">task_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Task {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">make_unique</span><span class="p">({</span><span class="w"></span>
<span class="w">          </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_name</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">bind</span><span class="p">(</span><span class="n">task_fn</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">_1</span><span class="p">,</span><span class="w"> </span><span class="n">_2</span><span class="p">),</span><span class="w"></span>
<span class="w">          </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="mi">1024</span><span class="w"></span>
<span class="w">        </span><span class="p">});</span><span class="w"></span>
<span class="w">      </span><span class="n">tasks</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">task</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">tasks</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="c1">// now sleep for a while to let the monitor do its thing</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">10</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11TaskMonitor15get_latest_infoEv">
<span id="_CPPv3N4espp11TaskMonitor15get_latest_infoEv"></span><span id="_CPPv2N4espp11TaskMonitor15get_latest_infoEv"></span><span id="espp::TaskMonitor::get_latest_info"></span><span class="target" id="classespp_1_1_task_monitor_1a43d33d845a6bfecbc26b7ed51dbefbe9"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_latest_info</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp11TaskMonitor15get_latest_infoEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get information about all the tasks running. Will provide for each task the following information: </p>
<p><ul class="simple">
<li><p>name</p></li>
<li><p>% CPU run time the task has used</p></li>
<li><p>stack high water mark (bytes)</p></li>
<li><p>current priority of the task</p></li>
</ul>
</p>
<p>Where each entry is separated by ‘,’ and each set of task data is separated by ‘;’. NOTE: there is no newline returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>std::string containing sequence of entries, formatted: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">,</span> <span class="n">cpu</span><span class="o">%</span><span class="p">,</span> <span class="n">high_water_mark</span><span class="p">,</span> <span class="n">priority</span><span class="p">;;</span>
</pre></div>
</div>
 </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11TaskMonitor6ConfigE">
<span id="_CPPv3N4espp11TaskMonitor6ConfigE"></span><span id="_CPPv2N4espp11TaskMonitor6ConfigE"></span><span id="espp::TaskMonitor::Config"></span><span class="target" id="structespp_1_1_task_monitor_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp11TaskMonitor6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11TaskMonitor6Config6periodE">
<span id="_CPPv3N4espp11TaskMonitor6Config6periodE"></span><span id="_CPPv2N4espp11TaskMonitor6Config6periodE"></span><span id="espp::TaskMonitor::Config::period__std::chrono::duration:float:"></span><span class="target" id="structespp_1_1_task_monitor_1_1_config_1af20d8faec7933d2d8fcce4f7b1bed0a0"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">period</span></span></span><a class="headerlink" href="#_CPPv4N4espp11TaskMonitor6Config6periodE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Period (s) the TaskMonitor::task_callback runs at. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp11TaskMonitor6Config21task_stack_size_bytesE">
<span id="_CPPv3N4espp11TaskMonitor6Config21task_stack_size_bytesE"></span><span id="_CPPv2N4espp11TaskMonitor6Config21task_stack_size_bytesE"></span><span id="espp::TaskMonitor::Config::task_stack_size_bytes__s"></span><span class="target" id="structespp_1_1_task_monitor_1_1_config_1a59383e3d8dd3036446b9093ae05dbc7b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">task_stack_size_bytes</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">8</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><span class="m"><span class="pre">1024</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp11TaskMonitor6Config21task_stack_size_bytesE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stack size (B) allocated to the TaskMonitor::task_callback. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id9">
<h3>Header File<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/task/include/task.hpp">components/task/include/task.hpp</a></p></li>
</ul>
</section>
<section id="id10">
<h3>Classes<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4TaskE">
<span id="_CPPv3N4espp4TaskE"></span><span id="_CPPv2N4espp4TaskE"></span><span id="espp::Task"></span><span class="target" id="classespp_1_1_task"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">Task</span></span></span><a class="headerlink" href="#_CPPv4N4espp4TaskE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="#classespp_1_1_task"><span class="std std-ref">Task</span></a> provides an abstraction over std::thread which optionally includes memory / priority configuration on ESP systems. It allows users to easily stop the task, and will automatically stop itself if destroyed. </p>
<section id="classespp_1_1_task_1task_ex1">
<h4>Basic Task Example<a class="headerlink" href="#classespp_1_1_task_1task_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_task_1task_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&amp;</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">condition_variable</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">static</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">task_iterations</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Task: #iterations = {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">task_iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="c1">// NOTE: sleeping in this way allows the sleep to exit early when the</span>
<span class="w">      </span><span class="c1">// task is being stopped / destroyed</span>
<span class="w">      </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">unique_lock</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lk</span><span class="p">(</span><span class="n">m</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">cv</span><span class="p">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">lk</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Task 1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_fn</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">log_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">DEBUG</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">task</span><span class="p">.</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<section id="classespp_1_1_task_1task_ex2">
<h4>Many Task Example<a class="headerlink" href="#classespp_1_1_task_1task_ex2" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_task_1task_ex2"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tasks</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">num_tasks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Spawning {} tasks!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">num_tasks</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">tasks</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">num_tasks</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">chrono</span><span class="o">::</span><span class="n">high_resolution_clock</span><span class="o">::</span><span class="n">now</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_tasks</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="kt">size_t</span><span class="w"> </span><span class="n">iterations</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="c1">// copy the loop variables and indicate that we intend to mutate them!</span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">iterations</span><span class="p">](</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&amp;</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">condition_variable</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cv</span><span class="p">)</span><span class="w"> </span><span class="k">mutable</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Task {}: #iterations = {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="c1">// NOTE: sleeping in this way allows the sleep to exit early when the</span>
<span class="w">        </span><span class="c1">// task is being stopped / destroyed</span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">std</span><span class="o">::</span><span class="n">unique_lock</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lk</span><span class="p">(</span><span class="n">m</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="n">cv</span><span class="p">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">lk</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">task_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fmt</span><span class="o">::</span><span class="n">format</span><span class="p">(</span><span class="s">&quot;Task {}&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">make_unique</span><span class="p">({</span><span class="w"></span>
<span class="w">          </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_name</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_fn</span><span class="w"></span>
<span class="w">        </span><span class="p">});</span><span class="w"></span>
<span class="w">      </span><span class="n">tasks</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">task</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">tasks</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Tasks spawned, waiting for {} seconds!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">num_seconds_to_run</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_until</span><span class="p">(</span><span class="n">start</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">num_seconds_to_run</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<section id="classespp_1_1_task_1task_ex3">
<h4>Long Running Task Example<a class="headerlink" href="#classespp_1_1_task_1task_ex3" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_task_1task_ex3"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&amp;</span><span class="w"> </span><span class="n">m</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">condition_variable</span><span class="o">&amp;</span><span class="w"> </span><span class="n">cv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">static</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">task_iterations</span><span class="p">{</span><span class="mi">0</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">num_steps_per_iteration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Task processing iteration {}...</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">size_t</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">num_steps_per_iteration</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">// NOTE: sleeping in this way allows the sleep to exit early when the</span>
<span class="w">        </span><span class="c1">// task is being stopped / destroyed</span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">std</span><span class="o">::</span><span class="n">unique_lock</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">mutex</span><span class="o">&gt;</span><span class="w"> </span><span class="n">lk</span><span class="p">(</span><span class="n">m</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="c1">// NOTE: using the return value from the cv.wait_for() allows us to</span>
<span class="w">          </span><span class="c1">// know if the task was asked to stop, for which we can handle and</span>
<span class="w">          </span><span class="c1">// return early.</span>
<span class="w">          </span><span class="k">auto</span><span class="w"> </span><span class="n">cv_retval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cv</span><span class="p">.</span><span class="n">wait_for</span><span class="p">(</span><span class="n">lk</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cv_retval</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cv_status</span><span class="o">::</span><span class="n">no_timeout</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="c1">// if there was no timeout, then we were notified, therefore we need</span>
<span class="w">            </span><span class="c1">// to shut down.</span>
<span class="w">            </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Task stopping early (step {}/{}) on iteration {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">num_steps_per_iteration</span><span class="p">,</span><span class="w"> </span><span class="n">task_iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="c1">// NOTE: use this_thread::sleep_for() to fake cleaning up work that</span>
<span class="w">            </span><span class="c1">// we would do</span>
<span class="w">            </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">10</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">            </span><span class="c1">// now that we&#39;ve (fake) cleaned-up our work, return from the task</span>
<span class="w">            </span><span class="c1">// function so the task can fully destruct.</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Task processing iteration {} complete</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">task_iterations</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">task_iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Complex Task&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">task_fn</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">log_level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">DEBUG</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">task</span><span class="p">.</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task11callback_fnE">
<span id="_CPPv3N4espp4Task11callback_fnE"></span><span id="_CPPv2N4espp4Task11callback_fnE"></span><span id="espp::Task::callback_fn"></span><span class="target" id="classespp_1_1_task_1a46984b35ac123f177c4c455ae3ab3aef"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">mutex</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n"><span class="pre">m</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">condition_variable</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n"><span class="pre">cv</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback_fn</span></span></span><a class="headerlink" href="#_CPPv4N4espp4Task11callback_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p><a class="reference internal" href="#classespp_1_1_task"><span class="std std-ref">Task</span></a> callback function signature. </p>
<p>NOTE: the callback is run repeatedly within the <a class="reference internal" href="#classespp_1_1_task"><span class="std std-ref">Task</span></a>, therefore it MUST return, and also SHOULD have a sleep to give the processor over to other tasks. For this reason, the callback is provided a std::condition_variable (and associated mutex) which the callback can use when they need to wait. If the cv.wait_for / cv.wait_until return <a class="reference external" href="https://en.cppreference.com/w/cpp/thread/cv_status">std::cv_status::timeout</a>, no action is necessary, but if they return <a class="reference external" href="https://en.cppreference.com/w/cpp/thread/cv_status">std::cv_status::no_timeout</a>, then the function should return immediately since the task is being stopped (optionally performing any task-specific tear-down).</p>
<dl class="field-list simple">
<dt class="field-odd">Param m</dt>
<dd class="field-odd"><p>mutex associated with the condition variable (should be locked before calling cv.wait_for() or cv.wait_until())</p>
</dd>
<dt class="field-even">Param cv</dt>
<dd class="field-even"><p>condition variable the callback can use to perform an interruptible wait. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4TaskD0Ev">
<span id="_CPPv3N4espp4TaskD0Ev"></span><span id="_CPPv2N4espp4TaskD0Ev"></span><span id="espp::Task::~Task"></span><span class="target" id="classespp_1_1_task_1ab008a053adcc0c93cc0cfcb2fe2396b7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~Task</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp4TaskD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd><p>Destroy the task, stopping it if it was started. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task5startEv">
<span id="_CPPv3N4espp4Task5startEv"></span><span id="_CPPv2N4espp4Task5startEv"></span><span id="espp::Task::start"></span><span class="target" id="classespp_1_1_task_1a8fd50f31d32181c26dc96d4040cb6fec"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp4Task5startEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Start executing the task. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if the task started, false if it was already started. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task4stopEv">
<span id="_CPPv3N4espp4Task4stopEv"></span><span id="_CPPv2N4espp4Task4stopEv"></span><span id="espp::Task::stop"></span><span class="target" id="classespp_1_1_task_1af73bba20616458f6ed571955721bca44"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stop</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp4Task4stopEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stop the task execution, blocking until it stops. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if the task stopped, false if it was not started / already stopped. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task10is_startedEv">
<span id="_CPPv3N4espp4Task10is_startedEv"></span><span id="_CPPv2N4espp4Task10is_startedEv"></span><span id="espp::Task::is_started"></span><span class="target" id="classespp_1_1_task_1a7d4b86d296baf0c52da1a47415e6f18f"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_started</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp4Task10is_startedEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Has the task been started or not? </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if the task is started / running, false otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task11make_uniqueERK6Config">
<span id="_CPPv3N4espp4Task11make_uniqueERK6Config"></span><span id="_CPPv2N4espp4Task11make_uniqueERK6Config"></span><span id="espp::Task::make_unique__ConfigCR"></span><span class="target" id="classespp_1_1_task_1a728e6a1704ef407529dee9b44e181e29"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">unique_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="#_CPPv4N4espp4TaskE" title="espp::Task"><span class="n"><span class="pre">Task</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">make_unique</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp4Task6ConfigE" title="espp::Task::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp4Task11make_uniqueERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Get a unique pointer to a new task created with <code class="docutils literal notranslate"><span class="pre">config</span></code>. Useful to not have to use templated std::make_unique (less typing). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – <a class="reference internal" href="#structespp_1_1_task_1_1_config"><span class="std std-ref">Config</span></a> struct to initialize the <a class="reference internal" href="#classespp_1_1_task"><span class="std std-ref">Task</span></a> with. </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>std::unique_ptr&lt;Task&gt; pointer to the newly created task. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6ConfigE">
<span id="_CPPv3N4espp4Task6ConfigE"></span><span id="_CPPv2N4espp4Task6ConfigE"></span><span id="espp::Task::Config"></span><span class="target" id="structespp_1_1_task_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp4Task6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6Config4nameE">
<span id="_CPPv3N4espp4Task6Config4nameE"></span><span id="_CPPv2N4espp4Task6Config4nameE"></span><span id="espp::Task::Config::name__std::string_view"></span><span class="target" id="structespp_1_1_task_1_1_config_1aeafcba64eaf2fe076018b000d87467c9"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string_view</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">name</span></span></span><a class="headerlink" href="#_CPPv4N4espp4Task6Config4nameE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Name of the task </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6Config8callbackE">
<span id="_CPPv3N4espp4Task6Config8callbackE"></span><span id="_CPPv2N4espp4Task6Config8callbackE"></span><span id="espp::Task::Config::callback__callback_fn"></span><span class="target" id="structespp_1_1_task_1_1_config_1a03a19bec2983f97adc7623f8ba76a7b1"></span><a class="reference internal" href="#_CPPv4N4espp4Task11callback_fnE" title="espp::Task::callback_fn"><span class="n"><span class="pre">callback_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback</span></span></span><a class="headerlink" href="#_CPPv4N4espp4Task6Config8callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback function </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6Config16stack_size_bytesE">
<span id="_CPPv3N4espp4Task6Config16stack_size_bytesE"></span><span id="_CPPv2N4espp4Task6Config16stack_size_bytesE"></span><span id="espp::Task::Config::stack_size_bytes__s"></span><span class="target" id="structespp_1_1_task_1_1_config_1a46f933e98f6401680df4f7a1de4957ae"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stack_size_bytes</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">4</span></span><span class="w"> </span><span class="o"><span class="pre">*</span></span><span class="w"> </span><span class="m"><span class="pre">1024</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp4Task6Config16stack_size_bytesE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stack Size (B) allocated to the task. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6Config8priorityE">
<span id="_CPPv3N4espp4Task6Config8priorityE"></span><span id="_CPPv2N4espp4Task6Config8priorityE"></span><span id="espp::Task::Config::priority__s"></span><span class="target" id="structespp_1_1_task_1_1_config_1aa32c3e35f312693a6818a62fa7423f95"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">priority</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp4Task6Config8priorityE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Priority of the task, 0 is lowest priority on ESP / FreeRTOS. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6Config7core_idE">
<span id="_CPPv3N4espp4Task6Config7core_idE"></span><span id="_CPPv2N4espp4Task6Config7core_idE"></span><span id="espp::Task::Config::core_id__i"></span><span class="target" id="structespp_1_1_task_1_1_config_1aa78bb404698fc06f5c1f1fda6190a176"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">core_id</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="o"><span class="pre">-</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp4Task6Config7core_idE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Core ID of the task, -1 means it is not pinned to any core. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp4Task6Config9log_levelE">
<span id="_CPPv3N4espp4Task6Config9log_levelE"></span><span id="_CPPv2N4espp4Task6Config9log_levelE"></span><span id="espp::Task::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1_task_1_1_config_1ae0370ee8f16212344aa19afdb2c54853"></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp4Task6Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Log verbosity for the task. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id11">
<h3>Header File<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/socket/include/udp_socket.hpp">components/socket/include/udp_socket.hpp</a></p></li>
</ul>
</section>
<section id="id12">
<h3>Classes<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocketE">
<span id="_CPPv3N4espp9UdpSocketE"></span><span id="_CPPv2N4espp9UdpSocketE"></span><span id="espp::UdpSocket"></span><span class="target" id="classespp_1_1_udp_socket"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">UdpSocket</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocketE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Class for managing sending and receiving data using UDP/IP. Can be used to create client or server sockets. </p>
<p>See <a class="reference external" href="https://github.com/espressif/esp-idf/tree/master/examples/protocols/sockets/udp_multicast">https://github.com/espressif/esp-idf/tree/master/examples/protocols/sockets/udp_multicast</a> for more information on udp multicast sockets.</p>
<section id="classespp_1_1_udp_socket_1udp_ex1">
<h4>UDP Client Example<a class="headerlink" href="#classespp_1_1_udp_socket_1udp_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_udp_socket_1udp_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="w"> </span><span class="nf">client_socket</span><span class="p">({});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create thread for sending data using the socket</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">client_task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">server_address</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">client_socket</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">port</span><span class="p">](</span><span class="k">auto</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">static</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">iterations</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">d</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">iterations</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">send_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="o">::</span><span class="n">SendConfig</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">ip_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server_address</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">port</span><span class="w"></span>
<span class="w">      </span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="n">client_socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">send_config</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">1</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">client_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">make_unique</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client Task&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_task_fn</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="mi">1024</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">client_task</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<section id="classespp_1_1_udp_socket_1udp_ex2">
<h4>UDP Server Example<a class="headerlink" href="#classespp_1_1_udp_socket_1udp_ex2" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_udp_socket_1udp_ex2"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">server_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5000</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="w"> </span><span class="nf">server_socket</span><span class="p">({.</span><span class="n">log_level</span><span class="o">=</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">WARN</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">server_task_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">Config</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UdpServer&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">server_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="o">::</span><span class="n">ReceiveConfig</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">on_receive_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Server received: {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="w"></span>
<span class="w">                   </span><span class="s">&quot;    from source: {}:{}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                   </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">port</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">nullopt</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">server_socket</span><span class="p">.</span><span class="n">start_receiving</span><span class="p">(</span><span class="n">server_task_config</span><span class="p">,</span><span class="w"> </span><span class="n">server_config</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</p>
</section>
<section id="classespp_1_1_udp_socket_1udp_ex3">
<h4>UDP Client Response Example<a class="headerlink" href="#classespp_1_1_udp_socket_1udp_ex3" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_udp_socket_1udp_ex3"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="w"> </span><span class="nf">client_socket</span><span class="p">({.</span><span class="n">log_level</span><span class="o">=</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">WARN</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create threads</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">client_task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">server_address</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">client_socket</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">port</span><span class="p">](</span><span class="k">auto</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">static</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">iterations</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">d</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">iterations</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">send_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="o">::</span><span class="n">SendConfig</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">ip_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">server_address</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">wait_for_response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">response_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">on_response_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Client received: {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="c1">// NOTE: now this call blocks until the response is received</span>
<span class="w">      </span><span class="n">client_socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">send_config</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">1</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">client_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">make_unique</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client Task&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_task_fn</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="mi">1024</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">client_task</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<section id="classespp_1_1_udp_socket_1udp_ex4">
<h4>UDP Server Response Example<a class="headerlink" href="#classespp_1_1_udp_socket_1udp_ex4" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_udp_socket_1udp_ex4"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">server_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;127.0.0.1&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5000</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="w"> </span><span class="nf">server_socket</span><span class="p">({.</span><span class="n">log_level</span><span class="o">=</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">WARN</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">server_task_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">Config</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UdpServer&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">server_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="o">::</span><span class="n">ReceiveConfig</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">on_receive_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Server received: {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="w"></span>
<span class="w">                   </span><span class="s">&quot;    from source: {}:{}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                   </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">port</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="c1">// reverse the data</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">reverse</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"></span>
<span class="w">        </span><span class="c1">// and send it back</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">server_socket</span><span class="p">.</span><span class="n">start_receiving</span><span class="p">(</span><span class="n">server_task_config</span><span class="p">,</span><span class="w"> </span><span class="n">server_config</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</p>
</section>
<section id="classespp_1_1_udp_socket_1udp_ex5">
<h4>UDP Multicast Client Example<a class="headerlink" href="#classespp_1_1_udp_socket_1udp_ex5" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_udp_socket_1udp_ex5"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="w"> </span><span class="nf">client_socket</span><span class="p">({});</span><span class="w"></span>
<span class="w">    </span><span class="c1">// create threads</span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">client_task_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="o">&amp;</span><span class="n">client_socket</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">multicast_group</span><span class="p">](</span><span class="k">auto</span><span class="o">&amp;</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">static</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">iterations</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">uint8_t</span><span class="o">&gt;</span><span class="w"> </span><span class="n">data</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">d</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">iterations</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="k">auto</span><span class="w"> </span><span class="n">send_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="o">::</span><span class="n">SendConfig</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">ip_address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">multicast_group</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">is_multicast_endpoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">wait_for_response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">response_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">on_response_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Client received: {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">};</span><span class="w"></span>
<span class="w">      </span><span class="c1">// NOTE: now this call blocks until the response is received</span>
<span class="w">      </span><span class="n">client_socket</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">send_config</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">iterations</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">1</span><span class="n">s</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">client_task</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">make_unique</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Client Task&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">client_task_fn</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="o">*</span><span class="mi">1024</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">client_task</span><span class="o">-&gt;</span><span class="n">start</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<section id="classespp_1_1_udp_socket_1udp_ex6">
<h4>UDP Multicast Server Example<a class="headerlink" href="#classespp_1_1_udp_socket_1udp_ex6" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_udp_socket_1udp_ex6"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">multicast_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;239.1.1.1&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5000</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="w"> </span><span class="nf">server_socket</span><span class="p">({.</span><span class="n">log_level</span><span class="o">=</span><span class="n">espp</span><span class="o">::</span><span class="n">Logger</span><span class="o">::</span><span class="n">Verbosity</span><span class="o">::</span><span class="n">WARN</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">server_task_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">Task</span><span class="o">::</span><span class="n">Config</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;UdpServer&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">stack_size_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="k">auto</span><span class="w"> </span><span class="n">server_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">espp</span><span class="o">::</span><span class="n">UdpSocket</span><span class="o">::</span><span class="n">ReceiveConfig</span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">buffer_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">is_multicast_endpoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">multicast_group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">multicast_group</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="p">.</span><span class="n">on_receive_callback</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="k">auto</span><span class="o">&amp;</span><span class="w"> </span><span class="n">source</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="k">auto</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Server received: {}</span><span class="se">\n</span><span class="s">&quot;</span><span class="w"></span>
<span class="w">                   </span><span class="s">&quot;    from source: {}:{}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                   </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">.</span><span class="n">port</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="c1">// reverse the data</span>
<span class="w">        </span><span class="n">std</span><span class="o">::</span><span class="n">reverse</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="n">end</span><span class="p">());</span><span class="w"></span>
<span class="w">        </span><span class="c1">// and send it back</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="n">server_socket</span><span class="p">.</span><span class="n">start_receiving</span><span class="p">(</span><span class="n">server_task_config</span><span class="p">,</span><span class="w"> </span><span class="n">server_config</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket19receive_callback_fnE">
<span id="_CPPv3N4espp9UdpSocket19receive_callback_fnE"></span><span id="_CPPv2N4espp9UdpSocket19receive_callback_fnE"></span><span id="espp::UdpSocket::receive_callback_fn"></span><span class="target" id="classespp_1_1_udp_socket_1a22bb94f3ca310e9c8fac54bcd0d82d92"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">optional</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp6SocketE" title="espp::Socket"><span class="n"><span class="pre">Socket</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Socket4InfoE" title="espp::Socket::Info"><span class="n"><span class="pre">Info</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">receive_callback_fn</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket19receive_callback_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback function to be called with data received from a remote when calling recvfrom. </p>
<dl class="field-list simple">
<dt class="field-odd">Param std::vector&lt;uint8_t&gt;&amp;</dt>
<dd class="field-odd"><p>data </p>
</dd>
<dt class="field-even">Param Socket::Info&amp;</dt>
<dd class="field-even"><p>Sender information (address, port) </p>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><p>std::optional&lt;std::vector&lt;uint8_t&gt;&gt; optional data to return to sender. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket20response_callback_fnE">
<span id="_CPPv3N4espp9UdpSocket20response_callback_fnE"></span><span id="_CPPv2N4espp9UdpSocket20response_callback_fnE"></span><span id="espp::UdpSocket::response_callback_fn"></span><span class="target" id="classespp_1_1_udp_socket_1ae9bf8d77ba62447310f6c3d73bcce67a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_callback_fn</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket20response_callback_fnE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Callback function to be called with data returned from remote after calling sendto. </p>
<dl class="field-list simple">
<dt class="field-odd">Param std::vector&lt;uint8_t&gt;&amp;</dt>
<dd class="field-odd"><p>data </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocketD0Ev">
<span id="_CPPv3N4espp9UdpSocketD0Ev"></span><span id="_CPPv2N4espp9UdpSocketD0Ev"></span><span id="espp::UdpSocket::~UdpSocket"></span><span class="target" id="classespp_1_1_udp_socket_1ac6af4b1539096ea5897ffd25010dd876"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~UdpSocket</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp9UdpSocketD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd><p>Tear down any resources associted with the socket. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket4sendERKNSt6vectorI7uint8_tEERK10SendConfig">
<span id="_CPPv3N4espp9UdpSocket4sendERKNSt6vectorI7uint8_tEERK10SendConfig"></span><span id="_CPPv2N4espp9UdpSocket4sendERKNSt6vectorI7uint8_tEERK10SendConfig"></span><span id="espp::UdpSocket::send__std::vector:uint8_t:CR.SendConfigCR"></span><span class="target" id="classespp_1_1_udp_socket_1aa51ca1726352eb6172a02d40d0cd3250"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp9UdpSocket10SendConfigE" title="espp::UdpSocket::SendConfig"><span class="n"><span class="pre">SendConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">send_config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket4sendERKNSt6vectorI7uint8_tEERK10SendConfig" title="Permalink to this definition"></a><br /></dt>
<dd><p>Send data to the endpoint specified by the send_config. Can be configured to multicast (within send_config) and can be configured to block waiting for a response from the remote. </p>
<p>NOTE: in the case of multicast, it will block only until the first response.</p>
<p>If response is requested, a callback can be provided in send_config which will be provided the response data for processing. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – vector of bytes to send to the remote endpoint. </p></li>
<li><p><strong>send_config</strong> – <a class="reference internal" href="#structespp_1_1_udp_socket_1_1_send_config"><span class="std std-ref">SendConfig</span></a> struct indicating where to send and whether to wait for a response. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if the data was sent, false otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket7receiveE6size_tRNSt6vectorI7uint8_tEERN6Socket4InfoE">
<span id="_CPPv3N4espp9UdpSocket7receiveE6size_tRNSt6vectorI7uint8_tEERN6Socket4InfoE"></span><span id="_CPPv2N4espp9UdpSocket7receiveE6size_tRNSt6vectorI7uint8_tEERN6Socket4InfoE"></span><span id="espp::UdpSocket::receive__s.std::vector:uint8_t:R.Socket::InfoR"></span><span class="target" id="classespp_1_1_udp_socket_1ac0248c0a7ea089d6e29fa710a59f5492"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">receive</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">max_num_bytes</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">data</span></span>, <a class="reference internal" href="#_CPPv4N4espp6SocketE" title="espp::Socket"><span class="n"><span class="pre">Socket</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Socket4InfoE" title="espp::Socket::Info"><span class="n"><span class="pre">Info</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">remote_info</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket7receiveE6size_tRNSt6vectorI7uint8_tEERN6Socket4InfoE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Call recvfrom on the socket, assuming it has already been configured appropriately. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_num_bytes</strong> – Maximum number of bytes to receive. </p></li>
<li><p><strong>data</strong> – Vector of bytes of received data. </p></li>
<li><p><strong>remote_info</strong> – <a class="reference internal" href="#structespp_1_1_socket_1_1_info"><span class="std std-ref">Socket::Info</span></a> containing the sender’s information. This will be populated with the information about the sender. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if successfully received, false otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket15start_receivingERN4Task6ConfigERK13ReceiveConfig">
<span id="_CPPv3N4espp9UdpSocket15start_receivingERN4Task6ConfigERK13ReceiveConfig"></span><span id="_CPPv2N4espp9UdpSocket15start_receivingERN4Task6ConfigERK13ReceiveConfig"></span><span id="espp::UdpSocket::start_receiving__Task::ConfigR.ReceiveConfigCR"></span><span class="target" id="classespp_1_1_udp_socket_1a4cf460e401d3d8a19a57070636091190"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start_receiving</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N4espp4TaskE" title="espp::Task"><span class="n"><span class="pre">Task</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp4Task6ConfigE" title="espp::Task::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">task_config</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp9UdpSocket13ReceiveConfigE" title="espp::UdpSocket::ReceiveConfig"><span class="n"><span class="pre">ReceiveConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">receive_config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket15start_receivingERN4Task6ConfigERK13ReceiveConfig" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure a server socket and start a thread to continuously receive and handle data coming in on that socket. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_config</strong> – <a class="reference internal" href="#structespp_1_1_task_1_1_config"><span class="std std-ref">Task::Config</span></a> struct for configuring the receive task. </p></li>
<li><p><strong>receive_config</strong> – <a class="reference internal" href="#structespp_1_1_udp_socket_1_1_receive_config"><span class="std std-ref">ReceiveConfig</span></a> struct with socket and callback info. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if the socket was created and task was started, false otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket6ConfigE">
<span id="_CPPv3N4espp9UdpSocket6ConfigE"></span><span id="_CPPv2N4espp9UdpSocket6ConfigE"></span><span id="espp::UdpSocket::Config"></span><span class="target" id="structespp_1_1_udp_socket_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket6Config9log_levelE">
<span id="_CPPv3N4espp9UdpSocket6Config9log_levelE"></span><span id="_CPPv2N4espp9UdpSocket6Config9log_levelE"></span><span id="espp::UdpSocket::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1_udp_socket_1_1_config_1a01cb1a6b4f1a81239030410c99ce8aa2"></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket6Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Verbosity level for the UDP socket logger. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket13ReceiveConfigE">
<span id="_CPPv3N4espp9UdpSocket13ReceiveConfigE"></span><span id="_CPPv2N4espp9UdpSocket13ReceiveConfigE"></span><span id="espp::UdpSocket::ReceiveConfig"></span><span class="target" id="structespp_1_1_udp_socket_1_1_receive_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ReceiveConfig</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket13ReceiveConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket13ReceiveConfig4portE">
<span id="_CPPv3N4espp9UdpSocket13ReceiveConfig4portE"></span><span id="_CPPv2N4espp9UdpSocket13ReceiveConfig4portE"></span><span id="espp::UdpSocket::ReceiveConfig::port__s"></span><span class="target" id="structespp_1_1_udp_socket_1_1_receive_config_1a0161b9ba730474fb8fe8471a8d2dc0bc"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket13ReceiveConfig4portE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Port number to bind to / receive from. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket13ReceiveConfig11buffer_sizeE">
<span id="_CPPv3N4espp9UdpSocket13ReceiveConfig11buffer_sizeE"></span><span id="_CPPv2N4espp9UdpSocket13ReceiveConfig11buffer_sizeE"></span><span id="espp::UdpSocket::ReceiveConfig::buffer_size__s"></span><span class="target" id="structespp_1_1_udp_socket_1_1_receive_config_1ad8c99e8c900260fe6a4291b58b31e11b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer_size</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket13ReceiveConfig11buffer_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Max size of data we can receive at one time. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket13ReceiveConfig21is_multicast_endpointE">
<span id="_CPPv3N4espp9UdpSocket13ReceiveConfig21is_multicast_endpointE"></span><span id="_CPPv2N4espp9UdpSocket13ReceiveConfig21is_multicast_endpointE"></span><span id="espp::UdpSocket::ReceiveConfig::is_multicast_endpoint__b"></span><span class="target" id="structespp_1_1_udp_socket_1_1_receive_config_1abfff5a475c6adb7f1910189457421367"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_multicast_endpoint</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">false</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket13ReceiveConfig21is_multicast_endpointE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether this should be a multicast endpoint. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket13ReceiveConfig15multicast_groupE">
<span id="_CPPv3N4espp9UdpSocket13ReceiveConfig15multicast_groupE"></span><span id="_CPPv2N4espp9UdpSocket13ReceiveConfig15multicast_groupE"></span><span id="espp::UdpSocket::ReceiveConfig::multicast_group__ss"></span><span class="target" id="structespp_1_1_udp_socket_1_1_receive_config_1a1b7d95962ac1d4917eb940bead1e0961"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">multicast_group</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="s"><span class="pre">&quot;&quot;</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket13ReceiveConfig15multicast_groupE" title="Permalink to this definition"></a><br /></dt>
<dd><p>If this is a multicast endpoint, this is the group it belongs to. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket13ReceiveConfig19on_receive_callbackE">
<span id="_CPPv3N4espp9UdpSocket13ReceiveConfig19on_receive_callbackE"></span><span id="_CPPv2N4espp9UdpSocket13ReceiveConfig19on_receive_callbackE"></span><span id="espp::UdpSocket::ReceiveConfig::on_receive_callback__receive_callback_fn"></span><span class="target" id="structespp_1_1_udp_socket_1_1_receive_config_1a40c058236bc332b9912d4128a392098e"></span><a class="reference internal" href="#_CPPv4N4espp9UdpSocket19receive_callback_fnE" title="espp::UdpSocket::receive_callback_fn"><span class="n"><span class="pre">receive_callback_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_receive_callback</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">nullptr</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket13ReceiveConfig19on_receive_callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Function containing business logic to handle data received. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfigE">
<span id="_CPPv3N4espp9UdpSocket10SendConfigE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfigE"></span><span id="espp::UdpSocket::SendConfig"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SendConfig</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig10ip_addressE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig10ip_addressE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig10ip_addressE"></span><span id="espp::UdpSocket::SendConfig::ip_address__ss"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1a945f05cf0fe8b7990cd4127b89450d5e"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ip_address</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig10ip_addressE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Address to send data to. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig4portE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig4portE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig4portE"></span><span id="espp::UdpSocket::SendConfig::port__s"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1a96b27ccfa5e0edee5ce434f8fb0116a3"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port</span></span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig4portE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Port number to send data to. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig21is_multicast_endpointE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig21is_multicast_endpointE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig21is_multicast_endpointE"></span><span id="espp::UdpSocket::SendConfig::is_multicast_endpoint__b"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1aaba757749c3295cc4b10a7c8a71a178c"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_multicast_endpoint</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">false</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig21is_multicast_endpointE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether this should be a multicast endpoint. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig17wait_for_responseE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig17wait_for_responseE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig17wait_for_responseE"></span><span id="espp::UdpSocket::SendConfig::wait_for_response__b"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1a61b2c5ddba601f6f75ddcc429a6794f2"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wait_for_response</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">false</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig17wait_for_responseE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to wait for a response from the remote or not. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig13response_sizeE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig13response_sizeE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig13response_sizeE"></span><span id="espp::UdpSocket::SendConfig::response_size__s"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1a6cf0602507b1ff20c45fb72c992dddb9"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_size</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig13response_sizeE" title="Permalink to this definition"></a><br /></dt>
<dd><p>If waiting for a response, this is the maximum size response we will receive. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig20on_response_callbackE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig20on_response_callbackE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig20on_response_callbackE"></span><span id="espp::UdpSocket::SendConfig::on_response_callback__response_callback_fn"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1a136fa4162d9075d39cf8d42a48e240e2"></span><a class="reference internal" href="#_CPPv4N4espp9UdpSocket20response_callback_fnE" title="espp::UdpSocket::response_callback_fn"><span class="n"><span class="pre">response_callback_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_response_callback</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">nullptr</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig20on_response_callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>If waiting for a response, this is an optional handler which is provided the response data. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9UdpSocket10SendConfig16response_timeoutE">
<span id="_CPPv3N4espp9UdpSocket10SendConfig16response_timeoutE"></span><span id="_CPPv2N4espp9UdpSocket10SendConfig16response_timeoutE"></span><span id="espp::UdpSocket::SendConfig::response_timeout__std::chrono::duration:float:"></span><span class="target" id="structespp_1_1_udp_socket_1_1_send_config_1a4889ccf05e7817101bbb8a0ff68ef794"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_timeout</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0.5f</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp9UdpSocket10SendConfig16response_timeoutE" title="Permalink to this definition"></a><br /></dt>
<dd><p>If waiting for a response, this is the maximum timeout to wait. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id13">
<h3>Header File<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/socket/include/tcp_socket.hpp">components/socket/include/tcp_socket.hpp</a></p></li>
</ul>
</section>
<section id="id14">
<h3>Classes<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp9TcpSocketE">
<span id="_CPPv3N4espp9TcpSocketE"></span><span id="_CPPv2N4espp9TcpSocketE"></span><span id="espp::TcpSocket"></span><span class="target" id="classespp_1_1_tcp_socket"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TcpSocket</span></span></span><a class="headerlink" href="#_CPPv4N4espp9TcpSocketE" title="Permalink to this definition"></a><br /></dt>
<dd></dd></dl>

</section>
<section id="id15">
<h3>Header File<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/socket/include/socket_common.hpp">components/socket/include/socket_common.hpp</a></p></li>
</ul>
</section>
<section id="id16">
<h3>Classes<a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6SocketE">
<span id="_CPPv3N4espp6SocketE"></span><span id="_CPPv2N4espp6SocketE"></span><span id="espp::Socket"></span><span class="target" id="classespp_1_1_socket"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">Socket</span></span></span><a class="headerlink" href="#_CPPv4N4espp6SocketE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-functions">Public Static Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket19set_receive_timeoutEiRKNSt6chrono8durationIfEE">
<span id="_CPPv3N4espp6Socket19set_receive_timeoutEiRKNSt6chrono8durationIfEE"></span><span id="_CPPv2N4espp6Socket19set_receive_timeoutEiRKNSt6chrono8durationIfEE"></span><span id="espp::Socket::set_receive_timeout__i.std::chrono::duration:float:CR"></span><span class="target" id="classespp_1_1_socket_1a149bf70a71283b6b5b76072cc9921b8d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_receive_timeout</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">socket_fd</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">chrono</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">duration</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">float</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">timeout</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket19set_receive_timeoutEiRKNSt6chrono8durationIfEE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Set the receive timeout on the provided socket. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket_fd</strong> – socket file descriptor. </p></li>
<li><p><strong>timeout</strong> – requested timeout, must be &gt; 0. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if SO_RECVTIMEO was successfully set. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket12enable_reuseEi">
<span id="_CPPv3N4espp6Socket12enable_reuseEi"></span><span id="_CPPv2N4espp6Socket12enable_reuseEi"></span><span id="espp::Socket::enable_reuse__i"></span><span class="target" id="classespp_1_1_socket_1abe282ea7966c793894ed1f401fc986a6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enable_reuse</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">socket_fd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket12enable_reuseEi" title="Permalink to this definition"></a><br /></dt>
<dd><p>Allow others to use this address/port combination after we’re done with it. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>socket_fd</strong> – socket file descriptor </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if SO_REUSEADDR and SO_REUSEPORT were successfully set. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket14make_multicastEi7uint8_t7uint8_t">
<span id="_CPPv3N4espp6Socket14make_multicastEi7uint8_t7uint8_t"></span><span id="_CPPv2N4espp6Socket14make_multicastEi7uint8_t7uint8_t"></span><span id="espp::Socket::make_multicast__i.uint8_t.uint8_t"></span><span class="target" id="classespp_1_1_socket_1a33753cb81cd23a05f72518e7e69c3bed"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">make_multicast</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">socket_fd</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">time_to_live</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">loopback_enabled</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">true</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket14make_multicastEi7uint8_t7uint8_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Configure the socket to be multicast (if time_to_live &gt; 0). Sets the IP_MULTICAST_TTL (number of multicast hops allowed) and optionally configures whether this node should receive its own multicast packets (IP_MULTICAST_LOOP). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket_fd</strong> – socket file descriptor. </p></li>
<li><p><strong>time_to_live</strong> – number of multicast hops allowed (TTL). </p></li>
<li><p><strong>loopback_enabled</strong> – Whether to receive our own multicast packets. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if IP_MULTICAST_TTL and IP_MULTICAST_LOOP were set. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket19add_multicast_groupEiRKNSt6stringE">
<span id="_CPPv3N4espp6Socket19add_multicast_groupEiRKNSt6stringE"></span><span id="_CPPv2N4espp6Socket19add_multicast_groupEiRKNSt6stringE"></span><span id="espp::Socket::add_multicast_group__i.ssCR"></span><span class="target" id="classespp_1_1_socket_1a81997524b02de04842189460f62b9e4c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">add_multicast_group</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">socket_fd</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">multicast_group</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket19add_multicast_groupEiRKNSt6stringE" title="Permalink to this definition"></a><br /></dt>
<dd><p>If this is a server socket, add it to the provided the multicast group. </p>
<p>NOTE: multicast groups must be Class D addresses (224.0.0.0 to 239.255.255.255)</p>
<p>See <a class="reference external" href="https://en.wikipedia.org/wiki/Multicast_address">https://en.wikipedia.org/wiki/Multicast_address</a> for more information. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>socket_fd</strong> – socket file descriptor </p></li>
<li><p><strong>multicast_group</strong> – multicast group to join. </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>true if IP_ADD_MEMBERSHIP was successfully set. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4InfoE">
<span id="_CPPv3N4espp6Socket4InfoE"></span><span id="_CPPv2N4espp6Socket4InfoE"></span><span id="espp::Socket::Info"></span><span class="target" id="structespp_1_1_socket_1_1_info"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Info</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Socket4InfoE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info9init_ipv4ERKNSt6stringE6size_t">
<span id="_CPPv3N4espp6Socket4Info9init_ipv4ERKNSt6stringE6size_t"></span><span id="_CPPv2N4espp6Socket4Info9init_ipv4ERKNSt6stringE6size_t"></span><span id="espp::Socket::Info::init_ipv4__ssCR.s"></span><span class="target" id="structespp_1_1_socket_1_1_info_1ad46a1d32ead847f686d700bde6eac72d"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">init_ipv4</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">addr</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">prt</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info9init_ipv4ERKNSt6stringE6size_t" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the struct as an ipv4 address/port combo. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> – IPv4 address string </p></li>
<li><p><strong>prt</strong> – port number </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info8ipv4_ptrEv">
<span id="_CPPv3N4espp6Socket4Info8ipv4_ptrEv"></span><span id="_CPPv2N4espp6Socket4Info8ipv4_ptrEv"></span><span id="espp::Socket::Info::ipv4_ptr"></span><span class="target" id="structespp_1_1_socket_1_1_info_1a770f89e187343d35bc8d90274884cc22"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">sockaddr_in</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ipv4_ptr</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info8ipv4_ptrEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Gives access to IPv4 sockaddr structure (sockaddr_in) for use with low level socket calls like sendto / recvfrom. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>*sockaddr_in pointer to ipv4 data structure </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info8ipv6_ptrEv">
<span id="_CPPv3N4espp6Socket4Info8ipv6_ptrEv"></span><span id="_CPPv2N4espp6Socket4Info8ipv6_ptrEv"></span><span id="espp::Socket::Info::ipv6_ptr"></span><span class="target" id="structespp_1_1_socket_1_1_info_1a1459dabab89ef2ecb690c0b4161ad2e7"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">sockaddr_in6</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ipv6_ptr</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info8ipv6_ptrEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Gives access to IPv6 sockaddr structure (sockaddr_in6) for use with low level socket calls like sendto / recvfrom. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>*sockaddr_in6 pointer to ipv6 data structure </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info6updateEv">
<span id="_CPPv3N4espp6Socket4Info6updateEv"></span><span id="_CPPv2N4espp6Socket4Info6updateEv"></span><span id="espp::Socket::Info::update"></span><span class="target" id="structespp_1_1_socket_1_1_info_1abafacc7f6586664836d116c1ae33fd59"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">update</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info6updateEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Will update address and port based on the curent data in raw. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info13from_sockaddrERK16sockaddr_storage">
<span id="_CPPv3N4espp6Socket4Info13from_sockaddrERK16sockaddr_storage"></span><span id="_CPPv2N4espp6Socket4Info13from_sockaddrERK16sockaddr_storage"></span><span id="espp::Socket::Info::from_sockaddr__sockaddr_storageCR"></span><span class="target" id="structespp_1_1_socket_1_1_info_1a20b73edebf40a2b62002281f298bdb10"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">from_sockaddr</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">sockaddr_storage</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">source_address</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info13from_sockaddrERK16sockaddr_storage" title="Permalink to this definition"></a><br /></dt>
<dd><p>Fill this <a class="reference internal" href="#structespp_1_1_socket_1_1_info"><span class="std std-ref">Info</span></a> from the provided sockaddr struct. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>&amp;source_address</strong> – sockaddr info filled out by recvfrom. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info13from_sockaddrERK11sockaddr_in">
<span id="_CPPv3N4espp6Socket4Info13from_sockaddrERK11sockaddr_in"></span><span id="_CPPv2N4espp6Socket4Info13from_sockaddrERK11sockaddr_in"></span><span id="espp::Socket::Info::from_sockaddr__sockaddr_inCR"></span><span class="target" id="structespp_1_1_socket_1_1_info_1a504fb9f32665ec422a51fc1ba02e8fa0"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">from_sockaddr</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">sockaddr_in</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">source_address</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info13from_sockaddrERK11sockaddr_in" title="Permalink to this definition"></a><br /></dt>
<dd><p>Fill this <a class="reference internal" href="#structespp_1_1_socket_1_1_info"><span class="std std-ref">Info</span></a> from the provided sockaddr struct. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>&amp;source_address</strong> – sockaddr info filled out by recvfrom. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info13from_sockaddrERK12sockaddr_in6">
<span id="_CPPv3N4espp6Socket4Info13from_sockaddrERK12sockaddr_in6"></span><span id="_CPPv2N4espp6Socket4Info13from_sockaddrERK12sockaddr_in6"></span><span id="espp::Socket::Info::from_sockaddr__sockaddr_in6CR"></span><span class="target" id="structespp_1_1_socket_1_1_info_1a0b42efa7edbbd54c5770357bafab5f16"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">from_sockaddr</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="n"><span class="pre">sockaddr_in6</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">source_address</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info13from_sockaddrERK12sockaddr_in6" title="Permalink to this definition"></a><br /></dt>
<dd><p>Fill this <a class="reference internal" href="#structespp_1_1_socket_1_1_info"><span class="std std-ref">Info</span></a> from the provided sockaddr struct. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>&amp;source_address</strong> – sockaddr info filled out by recvfrom. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4espp6Socket4Info9to_stringEv">
<span id="_CPPv3NK4espp6Socket4Info9to_stringEv"></span><span id="_CPPv2NK4espp6Socket4Info9to_stringEv"></span><span id="espp::Socket::Info::to_stringC"></span><span class="target" id="structespp_1_1_socket_1_1_info_1ae17923866029c186f13621113f66714e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">to_string</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK4espp6Socket4Info9to_stringEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Format the address and port into a string “{address}:{port}”. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>std::string contining the formatted info. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info7addressE">
<span id="_CPPv3N4espp6Socket4Info7addressE"></span><span id="_CPPv2N4espp6Socket4Info7addressE"></span><span id="espp::Socket::Info::address__ss"></span><span class="target" id="structespp_1_1_socket_1_1_info_1a8d4822078f27f577eb71736b3699ab6a"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">address</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info7addressE" title="Permalink to this definition"></a><br /></dt>
<dd><p>IP address of the endpoint as a string. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6Socket4Info4portE">
<span id="_CPPv3N4espp6Socket4Info4portE"></span><span id="_CPPv2N4espp6Socket4Info4portE"></span><span id="espp::Socket::Info::port__s"></span><span class="target" id="structespp_1_1_socket_1_1_info_1afd3b142bf79319b9311aa9c535def686"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port</span></span></span><a class="headerlink" href="#_CPPv4N4espp6Socket4Info4portE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Port of the endpoint as an integer. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id17">
<h3>Header File<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/wifi/include/wifi_ap.hpp">components/wifi/include/wifi_ap.hpp</a></p></li>
</ul>
</section>
<section id="id18">
<h3>Classes<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiApE">
<span id="_CPPv3N4espp6WifiApE"></span><span id="_CPPv2N4espp6WifiApE"></span><span id="espp::WifiAp"></span><span class="target" id="classespp_1_1_wifi_ap"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">WifiAp</span></span></span><a class="headerlink" href="#_CPPv4N4espp6WifiApE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WiFi Access Point (AP)</p>
<p>see <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/wifi.html#esp32-wi-fi-ap-general-scenario">https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/wifi.html#esp32-wi-fi-ap-general-scenario</a></p>
<p>NOTE: if CONFIG_ESP32_WIFI_NVS_ENABLED is set to <code class="docutils literal notranslate"><span class="pre">y</span></code> (which is the default), then you must ensure that you call <code class="docutils literal notranslate"><span class="pre">nvs_flash_init()</span></code> prior to creating the WiFi Access Point.</p>
<section id="classespp_1_1_wifi_ap_1wifiap_ex1">
<h4>WiFi Access Point Example<a class="headerlink" href="#classespp_1_1_wifi_ap_1wifiap_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_wifi_ap_1wifiap_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">WifiAp</span><span class="w"> </span><span class="nf">wifi_ap</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">ssid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_ESP_WIFI_SSID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_ESP_WIFI_PASSWORD</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6WifiApERK6Config">
<span id="_CPPv3N4espp6WifiAp6WifiApERK6Config"></span><span id="_CPPv2N4espp6WifiAp6WifiApERK6Config"></span><span id="espp::WifiAp::WifiAp__ConfigCR"></span><span class="target" id="classespp_1_1_wifi_ap_1a02a150920e9c88128e343a105c1b839a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">WifiAp</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp6WifiAp6ConfigE" title="espp::WifiAp::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6WifiApERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the WiFi Access Point (AP) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – <a class="reference internal" href="#structespp_1_1_wifi_ap_1_1_config"><span class="std std-ref">WifiAp::Config</span></a> structure with initialization information. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6ConfigE">
<span id="_CPPv3N4espp6WifiAp6ConfigE"></span><span id="_CPPv2N4espp6WifiAp6ConfigE"></span><span id="espp::WifiAp::Config"></span><span class="target" id="structespp_1_1_wifi_ap_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6Config4ssidE">
<span id="_CPPv3N4espp6WifiAp6Config4ssidE"></span><span id="_CPPv2N4espp6WifiAp6Config4ssidE"></span><span id="espp::WifiAp::Config::ssid__ss"></span><span class="target" id="structespp_1_1_wifi_ap_1_1_config_1aa63843d24de4bd3ee0dfec6f149fe3f1"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ssid</span></span></span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6Config4ssidE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SSID for the access point. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6Config8passwordE">
<span id="_CPPv3N4espp6WifiAp6Config8passwordE"></span><span id="_CPPv2N4espp6WifiAp6Config8passwordE"></span><span id="espp::WifiAp::Config::password__ss"></span><span class="target" id="structespp_1_1_wifi_ap_1_1_config_1a0184be61f100ec05c37fc91e521ec06f"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">password</span></span></span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6Config8passwordE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Password for the access point. If empty, the AP will be open / have no security. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6Config7channelE">
<span id="_CPPv3N4espp6WifiAp6Config7channelE"></span><span id="_CPPv2N4espp6WifiAp6Config7channelE"></span><span id="espp::WifiAp::Config::channel__uint8_t"></span><span class="target" id="structespp_1_1_wifi_ap_1_1_config_1a4caa52c177e4721a23879dd5aa22afde"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">channel</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">1</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6Config7channelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WiFi channel, range [1,13]. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6Config22max_number_of_stationsE">
<span id="_CPPv3N4espp6WifiAp6Config22max_number_of_stationsE"></span><span id="_CPPv2N4espp6WifiAp6Config22max_number_of_stationsE"></span><span id="espp::WifiAp::Config::max_number_of_stations__uint8_t"></span><span class="target" id="structespp_1_1_wifi_ap_1_1_config_1af32824f4204cb372599b2674b5b42a50"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_number_of_stations</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6Config22max_number_of_stationsE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Max number of connected stations to this AP. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp6WifiAp6Config9log_levelE">
<span id="_CPPv3N4espp6WifiAp6Config9log_levelE"></span><span id="_CPPv2N4espp6WifiAp6Config9log_levelE"></span><span id="espp::WifiAp::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1_wifi_ap_1_1_config_1a4c3a264ff4d76a1561a8373b04f53053"></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp6WifiAp6Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Verbosity of <a class="reference internal" href="#classespp_1_1_wifi_ap"><span class="std std-ref">WifiAp</span></a> logger. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="id19">
<h3>Header File<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/esp-cpp/espp/blob/db51601/components/wifi/include/wifi_sta.hpp">components/wifi/include/wifi_sta.hpp</a></p></li>
</ul>
</section>
<section id="id20">
<h3>Classes<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h3>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiStaE">
<span id="_CPPv3N4espp7WifiStaE"></span><span id="_CPPv2N4espp7WifiStaE"></span><span id="espp::WifiSta"></span><span class="target" id="classespp_1_1_wifi_sta"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">espp</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">WifiSta</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiStaE" title="Permalink to this definition"></a><br /></dt>
<dd><p>WiFi Station (STA)</p>
<p>see <a class="reference external" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/wifi.html#esp32-wi-fi-station-general-scenario">https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-guides/wifi.html#esp32-wi-fi-station-general-scenario</a></p>
<p>NOTE: if CONFIG_ESP32_WIFI_NVS_ENABLED is set to <code class="docutils literal notranslate"><span class="pre">y</span></code> (which is the default), then you must ensure that you call <code class="docutils literal notranslate"><span class="pre">nvs_flash_init()</span></code> prior to creating the WiFi Station.</p>
<section id="classespp_1_1_wifi_sta_1wifista_ex1">
<h4>WiFi Station Example<a class="headerlink" href="#classespp_1_1_wifi_sta_1wifista_ex1" title="Permalink to this headline"></a></h4>
<p id="classespp_1_1_wifi_sta_1wifista_ex1"><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="n">espp</span><span class="o">::</span><span class="n">WifiSta</span><span class="w"> </span><span class="nf">wifi_sta</span><span class="p">({</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">ssid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_ESP_WIFI_SSID</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_ESP_WIFI_PASSWORD</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">num_connect_retries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CONFIG_ESP_MAXIMUM_RETRY</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">on_connected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">on_disconnected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">on_got_ip</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[](</span><span class="n">ip_event_got_ip_t</span><span class="o">*</span><span class="w"> </span><span class="n">eventdata</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="n">fmt</span><span class="o">::</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;got IP: {}.{}.{}.{}</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">IP2STR</span><span class="p">(</span><span class="o">&amp;</span><span class="n">eventdata</span><span class="o">-&gt;</span><span class="n">ip_info</span><span class="p">.</span><span class="n">ip</span><span class="p">));</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">wifi_sta</span><span class="p">.</span><span class="n">is_connected</span><span class="p">())</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">this_thread</span><span class="o">::</span><span class="n">sleep_for</span><span class="p">(</span><span class="mi">100</span><span class="n">ms</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
 </p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta16connect_callbackE">
<span id="_CPPv3N4espp7WifiSta16connect_callbackE"></span><span id="_CPPv2N4espp7WifiSta16connect_callbackE"></span><span id="espp::WifiSta::connect_callback"></span><span class="target" id="classespp_1_1_wifi_sta_1af2d6095bfa1210706b23ead19280cea0"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">connect_callback</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta16connect_callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>called when the WiFi station connects to an access point. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta19disconnect_callbackE">
<span id="_CPPv3N4espp7WifiSta19disconnect_callbackE"></span><span id="_CPPv2N4espp7WifiSta19disconnect_callbackE"></span><span id="espp::WifiSta::disconnect_callback"></span><span class="target" id="classespp_1_1_wifi_sta_1ad591937cf6b5061a764b6ba4ef110e6e"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">disconnect_callback</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta19disconnect_callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called when the WiFi station is disconnected from the access point and has exceeded the configured <a class="reference internal" href="#structespp_1_1_wifi_sta_1_1_config_1a740a0b2747d9d7794527297f8e3d62f4"><span class="std std-ref">Config::num_connect_retries</span></a>. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta11ip_callbackE">
<span id="_CPPv3N4espp7WifiSta11ip_callbackE"></span><span id="_CPPv2N4espp7WifiSta11ip_callbackE"></span><span id="espp::WifiSta::ip_callback"></span><span class="target" id="classespp_1_1_wifi_sta_1a3458c6df8d159d64c92aeb81ab528a39"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">ip_event_got_ip_t</span></span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ip_callback</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta11ip_callbackE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called whe nthe WiFi station has gotten an IP from the access point. </p>
<dl class="field-list simple">
<dt class="field-odd">Param ip_event_got_ip_t*</dt>
<dd class="field-odd"><p>IP Event data structure (contains ip address). </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta7WifiStaERK6Config">
<span id="_CPPv3N4espp7WifiSta7WifiStaERK6Config"></span><span id="_CPPv2N4espp7WifiSta7WifiStaERK6Config"></span><span id="espp::WifiSta::WifiSta__ConfigCR"></span><span class="target" id="classespp_1_1_wifi_sta_1a4f851364da670b2f701b86c58ef6e973"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">WifiSta</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N4espp7WifiSta6ConfigE" title="espp::WifiSta::Config"><span class="n"><span class="pre">Config</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7WifiSta7WifiStaERK6Config" title="Permalink to this definition"></a><br /></dt>
<dd><p>Initialize the WiFi Station (STA) </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>config</strong> – <a class="reference internal" href="#structespp_1_1_wifi_sta_1_1_config"><span class="std std-ref">WifiSta::Config</span></a> structure with initialization information. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiStaD0Ev">
<span id="_CPPv3N4espp7WifiStaD0Ev"></span><span id="_CPPv2N4espp7WifiStaD0Ev"></span><span id="espp::WifiSta::~WifiSta"></span><span class="target" id="classespp_1_1_wifi_sta_1a40adab568d4b9685f79af94b14ace0c2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~WifiSta</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7WifiStaD0Ev" title="Permalink to this definition"></a><br /></dt>
<dd><p>Stop the WiFi station and deinit the wifi subystem. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta12is_connectedEv">
<span id="_CPPv3N4espp7WifiSta12is_connectedEv"></span><span id="_CPPv2N4espp7WifiSta12is_connectedEv"></span><span id="espp::WifiSta::is_connected"></span><span class="target" id="classespp_1_1_wifi_sta_1ae4a10bb88b45aa20b7e5dcd0457ba64a"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_connected</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4espp7WifiSta12is_connectedEv" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether the station is connected to an access point. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if it is currently connected, false otherwise. </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6ConfigE">
<span id="_CPPv3N4espp7WifiSta6ConfigE"></span><span id="_CPPv2N4espp7WifiSta6ConfigE"></span><span id="espp::WifiSta::Config"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Config</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6ConfigE" title="Permalink to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config4ssidE">
<span id="_CPPv3N4espp7WifiSta6Config4ssidE"></span><span id="_CPPv2N4espp7WifiSta6Config4ssidE"></span><span id="espp::WifiSta::Config::ssid__ss"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a71cbb4e9fed9f5d0e905b82cda5f78ea"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ssid</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config4ssidE" title="Permalink to this definition"></a><br /></dt>
<dd><p>SSID for the access point. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config8passwordE">
<span id="_CPPv3N4espp7WifiSta6Config8passwordE"></span><span id="_CPPv2N4espp7WifiSta6Config8passwordE"></span><span id="espp::WifiSta::Config::password__ss"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a4419be3db63ed3b306cf2f9da0a75456"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">password</span></span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config8passwordE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Password for the access point. If empty, the AP will be open / have no security. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config19num_connect_retriesE">
<span id="_CPPv3N4espp7WifiSta6Config19num_connect_retriesE"></span><span id="_CPPv2N4espp7WifiSta6Config19num_connect_retriesE"></span><span id="espp::WifiSta::Config::num_connect_retries__s"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a740a0b2747d9d7794527297f8e3d62f4"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_connect_retries</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config19num_connect_retriesE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Number of times to retry connecting to the AP before stopping. After this many retries, on_disconnected will be called. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config12on_connectedE">
<span id="_CPPv3N4espp7WifiSta6Config12on_connectedE"></span><span id="_CPPv2N4espp7WifiSta6Config12on_connectedE"></span><span id="espp::WifiSta::Config::on_connected__connect_callback"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a566a28577e969a872ef559de4520f363"></span><a class="reference internal" href="#_CPPv4N4espp7WifiSta16connect_callbackE" title="espp::WifiSta::connect_callback"><span class="n"><span class="pre">connect_callback</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_connected</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">nullptr</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config12on_connectedE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called when the station connects, or fails to connect. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config15on_disconnectedE">
<span id="_CPPv3N4espp7WifiSta6Config15on_disconnectedE"></span><span id="_CPPv2N4espp7WifiSta6Config15on_disconnectedE"></span><span id="espp::WifiSta::Config::on_disconnected__disconnect_callback"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a691847812be8106c8d9fcd6c8d3e9560"></span><a class="reference internal" href="#_CPPv4N4espp7WifiSta19disconnect_callbackE" title="espp::WifiSta::disconnect_callback"><span class="n"><span class="pre">disconnect_callback</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_disconnected</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">nullptr</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config15on_disconnectedE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called when the station disconnects. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config9on_got_ipE">
<span id="_CPPv3N4espp7WifiSta6Config9on_got_ipE"></span><span id="_CPPv2N4espp7WifiSta6Config9on_got_ipE"></span><span id="espp::WifiSta::Config::on_got_ip__ip_callback"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a6f206754284b8c3aeb74ab0251e9ead6"></span><a class="reference internal" href="#_CPPv4N4espp7WifiSta11ip_callbackE" title="espp::WifiSta::ip_callback"><span class="n"><span class="pre">ip_callback</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_got_ip</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">nullptr</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config9on_got_ipE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Called when the station gets an IP address. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config7channelE">
<span id="_CPPv3N4espp7WifiSta6Config7channelE"></span><span id="_CPPv2N4espp7WifiSta6Config7channelE"></span><span id="espp::WifiSta::Config::channel__uint8_t"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a16d16647e0f2f59de3b40b968005e789"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">channel</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config7channelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Channel of target AP; set to 0 for unknown. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config10set_ap_macE">
<span id="_CPPv3N4espp7WifiSta6Config10set_ap_macE"></span><span id="_CPPv2N4espp7WifiSta6Config10set_ap_macE"></span><span id="espp::WifiSta::Config::set_ap_mac__b"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a58c180437000866b13291640efff7286"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">set_ap_mac</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="k"><span class="pre">false</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config10set_ap_macE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Whether to check MAC address of the AP (generally no). If yes, provide ap_mac. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config6ap_macE">
<span id="_CPPv3N4espp7WifiSta6Config6ap_macE"></span><span id="_CPPv2N4espp7WifiSta6Config6ap_macE"></span><span id="espp::WifiSta::Config::ap_mac__uint8_tA"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a545651fe492e350a010c0a55a85e3572"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ap_mac</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">6</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><span class="m"><span class="pre">0</span></span><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config6ap_macE" title="Permalink to this definition"></a><br /></dt>
<dd><p>MAC address of the AP to check if set_ap_mac is set to true. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N4espp7WifiSta6Config9log_levelE">
<span id="_CPPv3N4espp7WifiSta6Config9log_levelE"></span><span id="_CPPv2N4espp7WifiSta6Config9log_levelE"></span><span id="espp::WifiSta::Config::log_level__Logger::Verbosity"></span><span class="target" id="structespp_1_1_wifi_sta_1_1_config_1a3892cda88dc354effe7aec82bff4d12f"></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="p"><span class="pre">{</span></span><a class="reference internal" href="#_CPPv4N4espp6LoggerE" title="espp::Logger"><span class="n"><span class="pre">Logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9VerbosityE" title="espp::Logger::Verbosity"><span class="n"><span class="pre">Verbosity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N4espp6Logger9Verbosity4WARNE" title="espp::Logger::Verbosity::WARN"><span class="n"><span class="pre">WARN</span></span></a><span class="p"><span class="pre">}</span></span><a class="headerlink" href="#_CPPv4N4espp7WifiSta6Config9log_levelE" title="Permalink to this definition"></a><br /></dt>
<dd><p>Verbosity of <a class="reference internal" href="#classespp_1_1_wifi_sta"><span class="std std-ref">WifiSta</span></a> logger. </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 - 2022, William Emfinger.</p>
  </div>

  <ul class="footer">
        <li>
	    
            
            Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/espressif/sphinx_idf_theme">theme</a>  based on <a href="https://github.com/readthedocs/sphinx_rtd_theme">Read the Docs Sphinx Theme</a>.
         </li>

  </ul> 

</footer>
        </div>
      </div>
    </section>
  </div>

  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>